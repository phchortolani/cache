<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Alphalinc Software Development Environment - Items that were in the TO Do list or in the issues list</title></head>


<body style="font-family: Arial,Helvetica,sans-serif; font-size: 11pt;">

<p><font size="2"><a href="index.html">[Documentation Home]</a></font></p>
<h2>Alphalinc Software Development Environment - Items that were in the To-Do list or in the issues list</h2>

<p>Here are the items that were solved:

</p><table border="1">
	<tbody><tr>
		<th width="1%">Date
		</th>
		<th width="1%">Developer
		</th>
		<th>Description
		</th>
	</tr>


	<tr>
		<td>2010-Nov-11
		</td>
		<td><a href="system/developers.html#pablo">Pablo</a>
		</td>
		<td>Solved items: <br />
<ol>

<li>Include the explanation to add the WinMerge installation path to the PATH environment variable
</li>

<li>Change to make ASDE compatible with Caché 2008.1
</li>

<li>Change to make ASDE compatible with Caché 2010.x
</li>

<li>Fix to export CSP files while editing them in Studio
</li>

<li>Fix to inhibit the exclusion of Tomcat webapp descriptor file
</li>

<li>Fix to compile CSP files while depolying changes
</li>

<li>Fix to show every load and compile source code activity during a deploy
</li>

<li>Fix to correct XML accentuation on NIX systems: nothing to do => the problem was on the
    NIX configuration system
</li>

<li>Fix to set automatically ASDE customization class hooks for new metadata classes => nothing to do,
    this setup will be made manually (maybe using ASDE script installation)
</li>

</ol>
		</td>
	</tr>


	<tr>
		<td>2010-Nov-04
		</td>
		<td><a href="system/developers.html#pablo">Pablo</a>
		</td>
		<td>Solved items: <br />
<ol>

<li>Added the favorites folder on ASDE
</li>

<li>Fixed a bug that was generating wrong index records:<br />
    set ^COMViewColumn(0,"WWW0121",0,"D1")="2~355~~~"<br />
    do ^WWWSSORT("COMViewColumn","WWW0121,0")<br />
    &nbsp;<br />
    Wrong: ^COMViewColumn(0,"WWW0121",0,1)="2~355~~~"<br />
    Correct: ^COMViewColumn(0,"WWW0121",0,"D1")="2~355~~~"
</li>

<li>Use of libraries: Medical AddOn
</li>

<li>Bazaar Service Request identification:<br />
    bzr commit -m "fixed my first bug" --fixes lp:1234<br />
    http://doc.bazaar.canonical.com/bzr.dev/en/tutorials/tutorial.html
</li>

<li>Bazaar Revision Identification:<br />
    http://doc.bazaar.canonical.com/latest/en/user-reference/revisionspec-help.html
</li>

<li>Fix to avoid loosing form counters
</li>

<li>Include new class and form metadata information (WWW122C2, COMGridEditParameter)
</li>

<li>Create a script to deploy on TCI production
</li>

<li>Fix to avoid reinstalling the ASDE hook more times than neccessary
</li>

<li>Move ASDE files on every workflow folder different from "Implementation" to a
    '\ASDE' subfolder
</li>

<li>Make ASDE installation independent from having the Common Cache Components
    classes
</li>

<li>Move all patches to the folder '\nm-patches'
</li>

<li>Create methods in the script release base class so that it's possible to
    query and set parameters and to identify the computer where the script is
    running. Document this option.
</li>

<li>Make it possible to deal with resources, reports and java libs while
    managing libraries
</li>

<li>Force compilation while installing new or changed classes
</li>

<li>Corrected a bug on ASDE while trying to import a library with resources:
    it was trying to import those resources on Cache
</li>

<li>Upgrade the deploy procedure based on the upgrade handler so that it
    keeps the same ideas. The following aspects were considered:<br />
    - Order of load;<br />
    - Order of compilation;<br />
    - Specific pos-install commands;<br />
    - Script releases installation.<br />
    &nbsp;<br />
    - Differences between ASDE and Upgrade Handler:<br />
      - ASDE uses ^WWWSORT to recreate indexes. Upgrade Handler uses
        ReIndex^COMIndex( )<br />
      - The Upgrade Handler removes indexes between 200 and 299
        because they are considered customizations<br />
      - The ASDE cleans cached queries that use tables related to the
        classes that are being installed.<br />
</li>

<li>Remove source codes (routines and classes) that are automatically
    generated by Cache (.TX, .GX, .SX, Web Services, CSP's, ...)
</li>

<li>Force compilation while applying source code updates to the
    database
</li>
</ol>
		</td>
	</tr>

	<tr>
		<td>2010-Nov-04
		</td>
		<td><a href="system/developers.html#jorge">Jorge</a>
		</td>
		<td>Solved items: <br />
<ol>

<li>Set some fields from the XML source code exported by Cache with fixed values, so that
    Bazaar doesn't ask to save files because of different timestamps, Cache versions or
    other useless information. This change was made on the XML Filter.
</li>

<li>Update Bazaar to version 2.x
</li>

<li>Ant scripts should check command termination based on a complete
    text: '>' => 'NAMESPACE>'
</li>

<li>Remove date and hour from generated XXXConst.inc
</li>

<li>Make it possible to export all source files and metadata information
    using an ANT script command
</li>
</ol>
		</td>
	</tr>

	<tr>
		<td>2010-Oct-25
		</td>
		<td><a href="system/developers.html#pablo">Pablo</a>
		</td>
		<td>Solved or ignored the complete list defined earlier (and ready for new ones): <br />
<ol>

<li>Place check points in the stallation. With big letters!
</li>

<li>Inform with big letters that "bzr add" adds only files and subdirs inside the folder from which it is run
</li>


<li>Fix the documentation to reflect the new folder structure: Installation.
[docs/installation/project-configuration.html passo 8]

</li>

<li>Add instructions to create grant the rights to the user jasper
</li>

<li>Add instructions to create the jasper user for the JDBC connection that jasper reports needs in order to connect.
</li>

<li>There are some globals that are not yet handled by the system export tool. For each,
	we must find out: a) what is the @NM artifact that it belongs to; b) Add its global name to the global list for
	that artifact; c) If it is a new artifact, all related methods have to be created.
	<p>
		</p><ul>
			<li>
				^COMViewLanguageCode (key=1)
			</li>
			<li>
			^COMViewLanguageText (key=EN
			</li>
		</ul>


</li>


	<li>Verify with the team the best approach for the "Created By, Created At, Modified By and Modified At
 fields". When they are present and two developers change the same artifact the second developer will
see this field as a conflict. A good thing is that the second developer will be aware that there were other
changes to the same artifact. On the negative side, it might be an undesireble conflict.
	</li>

	<li>Check the spelling of all documentation files.
	</li>

	<li>Find out what are the globals that should be deployed that hold metadata. The system is exporting
		everything that starts with WWW and COM, with exceptions. However, there are files larger than 5MB.
		It seems that more data is being exported than are required.
	</li>

	<li>Verify what is the purpose of those generated idx.*.MAC routines and where they get generated.
		Currently they are in the export exclude list, so they are not part of Source Control. However,
		eihter the get exported/imported or their trigger must be called whenever the parent artifact is
		imported/compiled.
</li>

<li>Find out the correct places to put hooks for all the missing @NM metadata (globals WWW*, COM*) that
	are not yet "hooked".
</li>

<li>Get a list of all Alphalinc globals that have metadata in them and compare with the list
	of globals that the system already handles (do ##class(SourceControl.Exporter).PrintAllGlobals()).
	Then, put hooks in @NM forms for every artifact whic is not already there.
</li>

<li>Implement export/import routines that specific for generated @NM views.
</li>


<li>Make sure "do Generate^COMConst(YKEY)" gets called when new application parameters are modified.
(put a call in method SourceControl.Importer)
</li>

<li>Verify if all entries that don't have a pair FROM_TO in ^WWWDIC are
really used. If they are, there will be the need to change
SourceControl.Exporter.ExportNMDictionary() and possibly
SourceControl.Exporter.ExportAllNMDictionaries()
</li>

<li>Find a good strategy for exporting @NM artifacts. Currently there are some huge components, like forms, that
could be better split in sub-parts (help, etc).
</li>

<li>Verify all cases that need to be separated codified. For language
texts imports, there should be more instructions saved on the file
relating to the prefix that sould be cleared before importing
everything else.
</li>

<li>Verify all cases when a @NM object can't be erased before loaded by the import method. For example: for
	language texts it CANNOT BE ERASED during import!
</li>


<li>Make sure that when importing NM System Parameters all file names
are converted to upper case (Ä was converted to ä outside Cache)
</li>


<li>Erase the language text file for a specific code when no text is found on the global ^WWW009. Search through all
  languages XX if any CODE is found: ^WWW009(0,XX,CODE)<br />
</li>

<li>Make sure that the modifications made to the export hooks are not overwritten! <br />
</li>

<li>
	Delete netmanager forms, classes, help, etc from the file system.
 Implement deletion from Studio/Cache when deleted from the file system (result of an update).
</li>

<li>Implement a graphical representation in CSP for the bzr and ant tool.
	</li>

<li>Edit VARJasperRun.MAC to assign the correct IP address to the URL that calls Tomcat.
It should either use the address and port that has been inserted in ^VarJasper or if
that value equals to <auto> the routine should use the same IP as reported by Cache Server.
$ZU(54,13,$ZU(54,0))
</auto></li>


<li>Create a setup target in ANT to set up most of the things needed:
create user/password, grant access to SQL tables, compile, define csp
phisycal directories, create namespaces, etc.
</li>

<li>Change the link in the reports (edit the routine) to be a parameter
instead of hardwired. That link loads the client's logo in the report
and it is currently defined as a link to local host.
</li>

<li> Figure out what to do with "deployed mode" classes (there is a
method in Cache that sets this flag and prevents the system from
compiling, editing or exporting the classes. The documentation syas
that the source files are also erased, but that is not the case). Right
now the system just ignores them (the classes
don't get exported and hence not version-controled either).
</li>

</ol>
		</td>
	</tr>

	<tr>
		<td>2009-Mar-16
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Added instructions to configure Cache to use extrinsic function calls to avoid the error: <br />
<pre>[SQLCODE: &lt;-372&gt;:&lt;Support for extrinsic function calls are disabled&gt;]<br /></pre>
		</td>
	</tr>

	<tr>
		<td>2009-Jan-19
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>While exporting FORMs, make sure that the pice #50 is ignored. This is the NUMBER OF HITS that
		the form has got. It is not only unnecessary to source control this value but also generates
		lots of conflicts for things that are not in conflict. This piece is now ignored. See SourceControl.Exporter.ExportNMForm().
		</td>
	</tr>

	<tr>
		<td>2008-Dec-09
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Removed the last dependencies on WWWCOFAExportAndImport.MAC	Now nothing in SourceControl depends
			on this routine.
		</td>
	</tr>




	<tr>
		<td>2008-Nov-14
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Make a resolved file with the resolved issues :-)
		</td>
	</tr>

	<tr>
		<td>2008-Nov-14
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Make sure ExportUserParameters can still use WWWCOFAExportAndImport to export and import ^INPARA. There is
			a small probability that someone might have used YM different from 0 to store INPARA parameters. This isn't the
			case anymore, because WWWCOFAExportAndImport is not nedeed anymore.
		</td>
	</tr>


	<tr>
		<td>2008-Nov-14
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Implement SourceControl.Importer.ImportMetadata without the calls to WWWCOFAExportAndImport.MAC
			to get rid of this dependecy. Doing this will allow the source control environment
	te become independent of that routine.
		</td>
	</tr>

	<tr>
		<td>2008-Nov-12
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Find out if CSP files must be compiled during import to cache (probably not, because of the same
		reason @NM generated classes should not: the user decides when to compile them).
		</td>
	</tr>

	<tr>
		<td>2008-Nov-12
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Change the CSP handling mechanism. Since Studio open CSP files directly from the deployment
			directory, when a user changes that file it has to be "exported" (copied) to the appropriate project
			directory.
		</td>
	</tr>

	<tr>
		<td>2008-Nov-07
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Verify all dependencies (MACs and INCs, NM classes) for correct SourceControl.Importer operation. Those
			files should be loaded with the special ant script target "ant load-source-control". There is also the need
			to load those files in the correct order when running the usual "ant" command.
		</td>
	</tr>

	<tr>
		<td>2008-Nov-06
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Prevent saved files from whithin Studio to be reloaded again when ant is run.
		</td>
	</tr>

	<tr>
		<td>2008-Sep-17
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Implement a conversion for accents used in names of menus, classes, etc. For example: the
		menu "Autenticação should be saved as Autenticacao" to avoid file systems issues. The system now normalizes
		all file names. It also calculates the original name CRC-16 and appends it to the file name. This way
		there won't be collisions (different globals mapped to the same file name).
		</td>
	</tr>

	<tr>
		<td>2008-Jul-17
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Find a tool or write code to the XML parser to generate Idented code. It is OK
			for MAC and INC files, but it could be better for Class files. Things could be easier
	to merge if all XML tags started on a new line with correct identation. The parser was rewritten.
	See SourceControl.XMLReader.
		</td>
	</tr>

	<tr>
		<td>2008-Jul-01
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Clear all default values in the user-config-properties.template that are not
		sensible enough (this would force the developer to edit it to his or her environment).
		</td>
	</tr>

	<tr>
		<td>2008-Jun-18
		</td>
		<td><a href="system/developers.html#soeiro">Soeiro</a>
		</td>
		<td>Prepare the system to handle the situation that can occur when you have conflicts that
			can't be solved by the merge tool:
			<ul>
				<li> Binary conflicts - must be edited with specific tools
				</li>
				<li> File or directories delete/rename/move - must be solved externally
				</li>
			</ul>
			<p>All this kinds of conflicts may require the user to explicity invoke
			"bzr resolve FILE" to mark it as resolved.
		</p></td>
	</tr>


</tbody></table>





<!-- Start footer for all pages (just change the file to make it easier to have modifications) -->
<br /><br /><br /><br />
<hr />
<span style="font-size: 9pt;">
	<p>This document is the file projectDirectory/Implementation/<b>docs/todo.html</b><br />
		Please feel free to make corrections and commit it to the repository.
	</p>
</span>
<!-- End footer -->

</body></html>