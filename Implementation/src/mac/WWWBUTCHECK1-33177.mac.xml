<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="WWWBUTCHECK1" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
WWWBUTCHECK1 ;WWWBUTCHECK1;BEC;BUTTON DATEN ÄNDERN;16.12.2002
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		BUTTON DATEN ÄNDERN
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;| 02-Sep-2005	JW		SR12966: WWW124 is shared
	;| BEC	16.12.2002
	;|
	;\------------------------------------------------------------------/
	;
	;
	;
	N FORM,BUTNR,CHECK
	SET VORG(1)=$PIECE($GET(YAUSWAHL),"/",1)      ;VORG(1) AUS WWWBUTCHECK 
	SET VORG(2)=$PIECE($GET(YAUSWAHL),"/",2)      ;VORG(2) AUS WWWBUTCHECK 
	SET VORG(3)=$PIECE($GET(YAUSWAHL),"/",3)      ;VORG(3) AUS WWWBUTCHECK  
	SET VORG(4)=$PIECE($GET(YAUSWAHL),"/",4)      ;VORG(4) AUS WWWBUTCHECK  
	SET VORG(5)=$PIECE($GET(YAUSWAHL),"/",5)      ;VORG(5) AUS WWWBUTCHECK  
	SET FORM=$PIECE($GET(YAUSWAHL),"/",6)         ;FORM AUS WWWBUTCHECK  
	SET BUTNR=$PIECE($GET(YAUSWAHL),"/",7)        ;BUTNR AUS WWWBUTCHECK  
	SET CHECK=$PIECE($GET(YAUSWAHL),"/",8)        ;CHECK =1 BUTTON DATENFELDER KOPIEREN / CHECH =2 BUTTON ANLEGEN
	;                                                                                                ;CHECK=3 BUTTONBEZEICHNUNG NICHT MEHR PRÜFEN !
	IF CHECK="" DO ^WWWBUTCHECK QUIT
	;
	IF CHECK=1 DO  ;BUTTON DATENFELDER ÄNDERN 
	. NEW BEZEICH
	. SET BEZEICH=$P($GET(^WWW124(0,FORM,VORG(1),BUTNR,1)),Y,1) ;NUR BEI KOPIEREN
	. SET YFELDALT=$GET(^WWW124(0,FORM,SPRACHE,BUTNR,1))  ;ALTEN STRING AUSLESEN
	. SET YFELDNEU=YFELDALT                        ;ALT=NEU
	. SET $PIECE(YFELDNEU,Y,1)=BEZEICH                        ;ALTE BUTTONBEZEICHNUNG ÜBERTRAGEN
	. QUIT
	IF CHECK=2 DO  ;BUTTON NEU ANLEGEN
	. SET YFELDALT=$GET(^WWW124(0,FORM,SPRACHE,BUTNR,1))  ;ALTEN STRING AUSLESEN
	. SET YFELDNEU=YFELDALT                        ;ALT=NEU
	. QUIT
	IF CHECK=3 DO  ;BUTTONBEZEICHNUNG  NICHT MEHR PRÜFEN !
	. SET YFELDALT=$GET(^WWW124(0,FORM,SPRACHE,BUTNR,1))  ;ALTEN STRING AUSLESEN
	. SET YFELDNEU=YFELDALT                        ;ALT=NEU
	. SET $PIECE(YFELDNEU,Y,60)=1     
	. QUIT
	; 
	DO
	. NEW KEY,YFORM,YVOR
	. SET KEY=FORM_","_VORG(1)_","_BUTNR
	. SET YOK=$$^WWWSPEI("WWW124",KEY,YFELDNEU,1)
	. QUIT
	DO ^WWWBUTCHECK
	QUIT
	
]]></Routine>
</Export>