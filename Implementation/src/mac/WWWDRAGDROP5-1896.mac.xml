<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="WWWDRAGDROP5" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
WWWDRAGDROP5(YFUNC,YKEY)	;WWWDRAGDROP5;FIS;AKTUALISIEREN HISTOGRAMM;29.08.2003  ; Compiled January 7, 2005 15:30:56
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		AKTUALISIEREN HISTOGRAMM
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;|
	;| FIS	29.08.2003  
	;|
	;\------------------------------------------------------------------/
	;
	NEW YRETVAL
	SET YRETVAL=""
	SET YHTMFORM="WWW"
	DO
	. NEW HEIGHT,WIDTH,LNUM,CNUM,DATANEU,DATAALT,DATAREF
	. SET DATANEU=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-DATA",1))
	. SET DATAALT=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-DATA",2))
	. IF DATANEU=DATAALT QUIT  ;KEINE Ã„NDERUNG ;no alteration 
	. SET DATAREF=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-REFLINE",1))
	. SET HEIGHT=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-HEIGHT",1))  ;HEIGHT IN PIXEL ;within 
	. SET WIDTH=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-WIDTH",1))  ;WIDTH IN PIXEL ;within 
	. SET LNUM=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-LNUM",1))  ;NUMBER OF LINES
	. SET CNUM=$GET(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-CNUM",1))  ;NUMBER OF FIELDS
	. SET YRETVAL=$$CHANGE^WWWDIAGRAMM(HEIGHT,WIDTH,LNUM,CNUM,$PIECE(DATANEU,Y,1,CNUM),$PIECE(DATAALT,Y,1,CNUM),$PIECE(DATAREF,Y,1,CNUM))
	. SET ^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","DIAGR-DATA",2)=DATANEU
	. QUIT
	IF YRETVAL'="" SET YRETVAL="#FUNCTION~"_YRETVAL
	QUIT YRETVAL
]]></Routine>
</Export>