<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="INANGPTT2" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
INANGPTT2 ;INANGPTT2;DT;ANZEIGE POSTIONSARTIKEL AUSWAHL FÜR TEILE/ SPEICHERN NEUE TEILE/EDIT TEILE;11.11.2000
 
#include COMSYS
 
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		ANZEIGE POSTIONSARTIKEL AUSWAHL FÜR TEILE/ SPEICHERN NEUE TEILE/EDIT TEILE
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;|
	;| DT	11.11.2000
	;|
	;\------------------------------------------------------------------/
	;
	;ANZEIGE DER ARTIKEL ZUR AUSWAHL ;Show the item Selection 
	;DIE AUSWAHL DES ARTIKELS ERFOLGT, WENN EINE MENGE EINGETRAGEN WIRD
	;WENN EINE MENGE AUSGEWÄHLT WURDE SPEICHERN DER ARTIKEL IN EINER TEILEPOSITION ;when one quantum select were Save the item within unit 
	NEW YARTIKEL,NAME,ART,ANZM,SUCH,ART1,YVOR,YFKEY,ANG,ANGMG,YMNG,YTEIL,YTEIL1,Q,YTEILP,ARTIKEL,MENGE,YSTD,YARTIKEL1
	SET %("VAR","YKEY")=YKEY
	SET YANGEBOT=$PIECE(YKEY,",",1)
	QUIT:YANGEBOT=""  ;KEIN ANGEBOT ;no proposition 
	SET YPOSITION=$PIECE(YKEY,",",2)
	QUIT:YPOSITION=""  ;KEINE POSITION ;no 
	NEW YKEY
	SET YPOSITION1=$GET(^INANGP(YM,YANGEBOT,YPOSITION,1))
	;IF $PIECE(YPOSITION1,Y,26)=2!($PIECE(YPOSITION1,Y,26)=4) DO  QUIT   ;KEINE TEILE
	;IF $PIECE(YPOSITION1,Y,26)=4 DO  QUIT   ;KEINE TEILE
	. WRITE YCR,"<BR>"_$PIECE($GET(^WWW101(0,"ARTIKEL-ART",SPRACHE,$P(YPOSITION1,Y,26),1)),Y,1)_" "_$$^WWWTEXT(32112,,1)  ;ARTIKELART NICHT MÖGLICH ;Not potential 
	. QUIT
	;IF $PIECE(YPOSITION1,Y,40)=2!($PIECE(YPOSITION1,Y,40)=3)!($PIECE(YPOSITION1,Y,40)=4)!($PIECE(YPOSITION1,Y,40)=5)!($PIECE(YPOSITION1,Y,40)=10)!($PIECE(YPOSITION1,Y,40)=11) DO  QUIT   ;KEINE TEILE
	. WRITE YCR,"<BR>"_$PIECE($GET(^WWW101(0,"EINHEIT",SPRACHE,$P(YPOSITION1,Y,40),1)),Y,1)_" "_$$^WWWTEXT(32119,,1)  ;ARTIKELART NICHT MÖGLICH ;Not potential 
	KILL ^INANGPTT1(YM)  ;LOSCHEN MÖGLICHER ALTEN WERTE
	KILL ^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"LOCK",1)
	DO NEU
	DO SUCH
	SET YKEY=YANGEBOT_","_YPOSITION
	DO ^INANGPTT  ;TABELLE DER TEILE ANZEIGEN ;tabulation the display 
	QUIT
	
NEU ;NEUE POSITION  
	;ARTIKELAUSWAHL / ANLEGEN DER POSITIONEN ;put onto the 
	IF $GET(%(YQUERY,"ITEMS"))'="" DO  ;SONDERFELDER AUS WWW2 ;out of 
	. SET %(YQUERY,"YMNG"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMSQ"))
	. SET %(YQUERY,"YMUL"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMMULN"))
	. SET %(YQUERY,"YBEN"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMBENN"))
	. SET %(YQUERY,"YBRT"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMBRTN"))
	. SET %(YQUERY,"YLNG"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMLNGN"))
	. SET %(YQUERY,"YHOE"_$GET(%(YQUERY,"ITEMS")))=$GET(%(YQUERY,"ITEMHOEN"))
	. QUIT
	SET YPARA=$GET(%(YQUERY,"YPARA"))   ;TEILENUMMER
	FOR  QUIT:$EXTRACT(YPARA)'=","  SET YPARA=$EXTRACT(YPARA,2,99)  ;KOMMA HERAUSFILTERN ;comma 
	SET YMNG="YMNG" FOR  SET YMNG=$ORDER(%(YQUERY,YMNG)) QUIT:$EXTRACT(YMNG,1,4)'="YMNG"  DO   ;ALLE MENGENFELDER LESEN ;read 
	. NEW YFORM,YEINHEIT,YTEILP,YTEIL,DATEI,MENGE,ART,YARTIKEL1
	. SET YFORM="INANGP"  ;POSITIONEN
	. QUIT:$GET(%(YQUERY,YMNG))=""   ;KEINE MENGE EINGETRAGEN ;no quantum regd. 
	. ;
	. ;
	. QUIT:YANGEBOT=""  QUIT:YPOSITION=""
	. SET YANG=YANGEBOT
	. SET YPOS=YPOSITION
	. ;DATEI ORIGINAL ;data file 
	. SET DATEI="^INANGPXL("_""""_YM_""""_","_""""_YANGEBOT_""""_","_YPOSITION
	. FOR YI=1:1 QUIT:$PIECE(YPARA,",",YI)=""  SET DATEI=DATEI_","_$PIECE(YPARA,",",YI)  ;ZUSAMMENBAUEN TEILSTRING
	. SET DATEI=DATEI_",YTEIL)"
	. SET YTEIL=""
	. SET YTEIL=$ORDER(@DATEI,-1)+1
	. IF YTEIL="" SET YTEIL=1
	. ;
	. ;ACHTUNG HIER PRÜFUNG AUF DOPPELERFASSUNG DURCH RELOAD EINBAUEN ;estimation here is quiz upon trans- 
	. ;
	. ;SET MENGE=$TR($GET(%(YQUERY,YMNG)),",",".")
	. SET MENGE=$$^WWWTR(1,8,$GET(%(YQUERY,YMNG)))  ;26151;TYBD;23,7,2004;MENGE
	. QUIT:+MENGE=0
	. SET ART=$EXTRACT(YMNG,5,99)  ;ARTIKELNUMMER BESTANDTEIL DER YMNG VARIABEL ;ingredient the 
	. QUIT:ART=""
	. QUIT:'$DATA(^INART(YM,ART,1))  ;ARTIKEL NICHT VORHANDEN ;item Not on hand 
	. SET YARTIKEL1=$GET(^INART(YM,ART,1))  ;ARTIKELDATEN
	. ;
	. MERGE @DATEI=^INARTXL(YM,ART)  ;KOPIEREN DES ARTIKELTEILEBAU
	. ;
	. SET YTEIL1=$GET(^INARTXL(YM,ART))  ;HAUPTUNTERTEIL
	. ;
	. ;ERRECHNEN TEIL MIT MENGEN ;whack by means of shuffle 
	. SET $PIECE(YTEIL1,Y,5)=+MENGE
	. SET $PIECE(YTEIL1,Y,4)=ART  ;NEUE TEILEARTIKELNUMMER
	. SET $PIECE(YTEIL1,Y,1)=$PIECE(YARTIKEL1,Y,1)  ;BESCHREIBUNG ;description 
	. SET $PIECE(YTEIL1,Y,40)=+$PIECE(YARTIKEL1,Y,40)  ;EINHEIT ;unity 
	. IF $PIECE(YTEIL1,Y,40)=0 SET $PIECE(YTEIL1,Y,40)=1
	. SET YEINHEIT=$PIECE(YTEIL1,Y,40)
	. ;IF YEINHEIT'=11 IF YEINHEIT'=2 IF YEINHEIT'=10 SET $PIECE(YTEIL1,Y,7)=$$^INARTRUEST(ART)+($$^INARTDAUER(ART)*MENGE)  ;RUEST +(MENGE * DAUER)
	. IF YEINHEIT'=11 IF YEINHEIT'=2 IF YEINHEIT'=10 SET $PIECE(YTEIL1,Y,7)=($$^INARTDAUER(ART)*MENGE)  ;RUEST +(MENGE * DAUER)
	. ;SET $PIECE(YTEIL1,Y,15)=+$TR($GET(%(YQUERY,"YLNG"_ART)),",",".")  ;LÄNGE
	. ;SET $PIECE(YTEIL1,Y,16)=+$TR($GET(%(YQUERY,"YBRT"_ART)),",",".")  ;BREITE
	. ;SET $PIECE(YTEIL1,Y,17)=+$TR($GET(%(YQUERY,"YHOE"_ART)),",",".")  ;HOEHE
	. SET $PIECE(YTEIL1,Y,15)=$$^WWWTR(1,8,$GET(%(YQUERY,"YLNG"_ART)))  ;LÄNGE;26151;TYBD;23,7,2004
	. SET $PIECE(YTEIL1,Y,16)=$$^WWWTR(1,8,$GET(%(YQUERY,"YBRT"_ART)))  ;BREITE;26151;TYBD;23,7,2004
	. SET $PIECE(YTEIL1,Y,17)=+$$^WWWTR(1,8,$GET(%(YQUERY,"YHOE"_ART)))  ;HOEHE;26151;TYBD;23,7,2004
	. IF $GET(%(YQUERY,"YBEN"_ART))'="" DO
	. . SET $PIECE(YTEIL1,Y,1)=$GET(%(YQUERY,"YBEN"_ART))_" "_$PIECE(YTEIL1,Y,1)  ;BENENNUNG
	. . QUIT
	. SET MULTIPLE=+$GET(%(YQUERY,"YMUL"_ART))  ;ANZAHL DER TEILE ;Number the 
	. SET $PIECE(YTEIL1,Y,43)=$$^INGEWICHTT(ART,MENGE,$P(YTEIL1,Y,15),$P(YTEIL1,Y,16),$P(YTEIL1,Y,17))  ;MENGE*GEWICHT
	. ;
	. ;ZEICHNUNGSNUMMER WENN KEINE DAUER ;when no permanence 
	. SET YTEILP=YTEIL
	. IF YTEILP'="" DO
	. . NEW YBIG,YTEIL
	. . SET YBIG=""
	. . SET YTEIL=""
	. . FOR  SET YTEIL=$ORDER(@DATEI) QUIT:YTEIL=""  DO 
	. . . IF $PIECE($GET(@DATEI),Y,18)>YBIG SET YBIG=$PIECE($GET(@DATEI),Y,18)
	. . . QUIT
	. . SET YTEILP=YBIG+1
	. . QUIT
	. IF YEINHEIT=2!(YEINHEIT=10)!(YEINHEIT=11) SET YTEILP=""
	. SET $PIECE(YTEIL1,Y,18)=YTEILP
	. ;
	. ;
	. ;ZEITEN ERRECHNEN
	. IF YEINHEIT=2 DO  ;STUNDEN = DAUER ;procrastinate permanence 
	. . NEW YSTD
	. . SET YSTD=$GET(%(YQUERY,YMNG))
	. . SET $PIECE(YTEIL1,Y,5)=""  ;LÖSCHEN MENGE ;Delete quantum 
	. . IF $FIND(YSTD,":") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,":",1)*60*60)+($PIECE(YSTD,":",2)*60)+$PIECE(YSTD,":",3) SET YSTD=""  ;STUNDEN MINUTEN SEKUNDEN ;procrastinate 
	. . IF $FIND(YSTD,",") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,",",1)*60*60)+(60*60*("."_$PIECE(YSTD,",",2))) SET YSTD=""  ;STUNDEN MIT KOMMA ;procrastinate by means of comma 
	. . IF $FIND(YSTD,".") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,".",1)*60*60)+(60*60*("."_$PIECE(YSTD,".",2))) SET YSTD=""  ;STUNDEN MIT PUNKT ;procrastinate by means of point 
	. . IF +YSTD'=0 SET $PIECE(YTEIL1,Y,45)=(YSTD*60*60)  ;VOLLE STUNDEN  ;procrastinate 
	. . QUIT
	. ;
	. IF YEINHEIT=10 DO  ;MINUTEN = DAUER ;permanence 
	. . NEW YSTD
	. . SET YSTD=$GET(%(YQUERY,YMNG))
	. . SET $PIECE(YTEIL1,Y,5)=""  ;LÖSCHEN MENGE ;Delete quantum 
	. . IF $FIND(YSTD,":") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,":",1)*60*60)+($PIECE(YSTD,":",2)*60)+$PIECE(YSTD,":",3) SET YSTD="" ;STUNDEN MINUTEN SEKUNDEN ;procrastinate 
	. . IF $FIND(YSTD,",") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,",",1)*60)+(60*("."_$PIECE(YSTD,",",2))) SET YSTD=""  ;MINUTEN MIT KOMMA ;by means of comma 
	. . IF $FIND(YSTD,".") SET $PIECE(YTEIL1,Y,45)=($PIECE(YSTD,".",1)*60)+(60*("."_$PIECE(YSTD,".",2))) SET YSTD=""  ;MINUTEN MIT PUNKT ;by means of point 
	. . IF +YSTD'=0 SET $PIECE(YTEIL1,Y,45)=(YSTD*60)  ;VOLLE MINUTEN 
	. . QUIT
	. ;
	. IF YEINHEIT=11 DO  ;INDUSTRIE MINUTEN = DAUER ;industry permanence 
	. . NEW YSTD
	. . SET YSTD=$GET(%(YQUERY,YMNG))
	. . SET $PIECE(YTEIL1,Y,5)=""  ;LÖSCHEN MENGE ;Delete quantum 
	. . ;IF +YSTD'=0 SET $PIECE(YTEIL1,Y,45)=$$^INARTRUEST(ART)+(YSTD*60/100*60)  ;VOLLE INDUSTIEMINUTEN 
	. . IF +YSTD'=0 SET $PIECE(YTEIL1,Y,45)=(YSTD*60/100*60)  ;VOLLE INDUSTIEMINUTEN 
	. . QUIT
	. ;
	. SET $PIECE(YTEIL1,Y,70)=$$^INARTRUEST(ART)*$$^INPROLOS(ART,MENGE)  ;RUESTZEIT JE LOSGRÖßE ;once 
	. ;
	. IF $DATA(^INARTT(YM,ART)) SET $PIECE(YTEIL1,Y,45)=$$^INARTDAUERT(ART,$PIECE(YTEIL1,Y,5))   ;ERRECHNEN DAUER AUS TEILEN * MENGE ;permanence out of quantum 
	. IF $DATA(^INARTT(YM,ART)) SET $PIECE(YTEIL1,Y,43)=$$^INGEWICHTT(ART,$PIECE(YTEIL1,Y,5),$P(YTEIL1,Y,15),$P(YTEIL1,Y,16),$P(YTEIL1,Y,17))  ;GEWICHT AUS TEILEN * MENGE ;wt. out of quantum 
	. IF +$PIECE(YTEIL1,Y,43)=0 S $P(YTEIL1,Y,43)=""  ;GEWICHT ;wt. 
	. SET $PIECE(YTEIL1,Y,47)=$$^INARTKOSTT(ART,$PIECE(YTEIL1,Y,5),$PIECE(YTEIL1,Y,45),$P(YTEIL,Y,43))  ;PREISERRECHNEN INKL VERSCHNITT
	. ;
	. ;IF $PIECE(YTEIL1,Y,40)'=2 IF $PIECE(YTEIL1,Y,40)'=11 IF $PIECE(YTEIL1,Y,40)'=10 S $P(YTEIL1,Y,45)="",$P(YTEIL1,Y,9)=""  ;DAUER LÖSCHEN WENN KEINE ZEIT
	. IF $PIECE(YTEIL1,Y,40)'=2 IF $PIECE(YTEIL1,Y,40)'=11 IF $PIECE(YTEIL1,Y,40)'=10 S $P(YTEIL1,Y,9)=""  ;DAUER LÖSCHEN WENN KEINE ZEIT ;permanence Delete when no time 
	. IF +$PIECE(YTEIL1,Y,43)=0 SET $PIECE(YTEIL1,Y,43)=""  ;GEWICHT=""
	. SET $PIECE(YTEIL1,Y,22)=$HOROLOG   ;ERFASST
	. SET $PIECE(YTEIL1,Y,23)=YBED   ;ERFASST
	. ;
	. SET @DATEI=YTEIL1  ;SPEICHERN HAUPTUNTERTEIL MIT MENGEN ;Save by means of shuffle 
	. IF $GET(MULTIPLE)>1 S:MULTIPLE>300 MULTIPLE=300 FOR YMULTI=2:1:MULTIPLE DO  ;ANLAGE VON MEHREREN MENGEN ;layout shuffle 
	. . SET YTEIL=YTEIL+1   ;NÄCHSTE POSITIONSNUMMER ;next 
	. . MERGE @DATEI=^INARTXL(YM,ART)  ;KOPIEREN DES ARTIKELTEILEBAU
	. . SET @DATEI=YTEIL1  ;SPEICHERN NEXT ARTIKELTEIL  ;Save 
	. . QUIT
	. ;
	. DO ^INANGPXLDEL  ;LÖSCHEN UNTERTEILE VON BESTELLWARE  ;FIS;27.03.03;23327;
	. ;
	. DO NEU^INANGPTT  ;TEILESTRUKTUR AUFBAUEN FÜR EDIT ;construct to 
	. ;
	QUIT
	
SUCH ;ANZEIGEN NACH SUCHVORGABE ;display within 
	SET VORG(1)=$EXTRACT(YAUSWAHL,2,99)   ;SUCHVORGABE VOLLTEXT ODER NUMMER ;full text Or numeral 
	QUIT:VORG(1)=""   ;KEINE AUSWAHL ;no Selection 
	SET YDDSATZ=0   ;VARIABELE ZUR HELL DUNKELSCHALTUNG ;bright 
	IF $FIND(VORG(1),"=") DO  SET VORG(1)="" QUIT  ;SONDERFUNKTION LÖSCHEN UND MOVE ;Delete And 
	. SET VORG(1)=$TRANSLATE(VORG(1),"()"_"""")
	. IF +$PIECE(VORG(1),"=",1)=0!(+$PIECE(VORG(1),"=",2)=0) IF $PIECE(VORG(1),"=",2)'="x" IF $PIECE(VORG(1),"=",2)'="X"  DO  QUIT
	. . ;WRITE "<script language="_""""_"JavaScript"_""""_" type='text/javascript'>alert('"_$$^WWWTEXT(32292,,1)_"');</script>"  ;BITTE PRÜFEN
	. . $$$StartScript()
	. . WRITE "alert('"_$$^WWWTEXT(32292,,1)_"');"  ;BITTE PRÜFEN
	. . $$$EndScript()
	. . QUIT
	. IF $TRANSLATE($PIECE(VORG(1),"=",2),"x","X")="X" DO  ;LOESCHEN
	. . NEW YPARA1,TLFN,YPARA2
	. . SET YPARA2=YPARA_","
	. . SET YSONDERFUNKTION=1
	. . SET TLFN=$PIECE(VORG(1),"=",1) 
	. . SET TLFN(1)=$PIECE(TLFN,"-",1)
	. . SET TLFN(2)=$PIECE(TLFN,"-",2)
	. . IF TLFN(2)="" SET TLFN(2)=TLFN(1)
	. . FOR TLFN(3)=TLFN(1):1:TLFN(2) DO   ;LÖSCHEN EINZELNE FELDER ;Delete 
	. . . SET %(YQUERY,"YFUNCT1")="KILL"  ;FUNKTION (UP DOWN KILL)
	. . . SET %(YQUERY,"YPARA1")=YANGEBOT_","_YPOSITION_","_YPARA2_TLFN(3)
	. . . DO PROC^INANGPTT  ;LÖSCHEN DATEN ;Delete 
	. . . QUIT
	. . QUIT
	. IF $TRANSLATE($PIECE(VORG(1),"=",2),"x","X")'="X" DO  ;BEWEGEN ;stir 
	. . NEW YPARA1,TLFN,YPARA2
	. . SET YPARA2=YPARA_","
	. . SET YSONDERFUNKTION=1
	. . SET TLFN(1)=+$PIECE(VORG(1),"=",1) 
	. . SET TLFN(2)=+$PIECE(VORG(1),"=",2) 
	. . SET TLFN(3)=TLFN(1)-TLFN(2)
	. . IF TLFN(3)>0 DO  QUIT   ;UP
	. . . FOR TLFN(4)=TLFN(1):-1:TLFN(2)+1 DO   ;SCHIEBEN FELDER ;shove 
	. . . . SET %(YQUERY,"YFUNCT1")="UP"  ;FUNKTION (UP DOWN KILL)
	. . . . SET %(YQUERY,"YPARA1")=YANGEBOT_","_YPOSITION_","_YPARA2_TLFN(4)
	. . . . DO PROC^INANGPTT  ; DATEN SCHIEBEN ;shove 
	. . . . QUIT
	. . . QUIT
	. . IF TLFN(3)<0 DO  QUIT   ;DOWN
	. . . FOR TLFN(4)=TLFN(1):1:TLFN(2)-1 DO   ;SCHIEBEN FELDER ;shove 
	. . . . SET %(YQUERY,"YFUNCT1")="DOWN"  ;FUNKTION (UP DOWN KILL)
	. . . . SET %(YQUERY,"YPARA1")=YANGEBOT_","_YPOSITION_","_YPARA2_TLFN(4)
	. . . . DO PROC^INANGPTT  ; DATEN SCHIEBEN ;shove 
	. . . . QUIT
	. . . QUIT
	. . QUIT
	. SET %(YQUERY,"YFUNCT1")=""  ;FUNKTION (UP DOWN KILL)
	. SET %(YQUERY,"YPARA1")=""
	. QUIT
	WRITE YCR
	IF VORG(1)'="" WRITE "&nbsp;"_$$^WWWTEXT(148)_": "_VORG(1)   ;SUCHE NACH
	IF $PIECE(YPOSITION1,Y,26)=2 W " ("_$$^WWWTEXT(32992)_")"
	KILL ^WWWSOR(YUSER,"ARTIKEL")
	;KOPF ZEILE ;pate 
	DO ^WWWFRAME(0)  ;TABLE AN  ;upon 
	WRITE "<TH VALIGN=TOP NOWRAP VALIGN=TOP align=LEFT ALIGN=LEFT WIDTH=10%"
	WRITE " BGCOLOR="_YDARKGRAY
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	WRITE $$^WWWTEXT(32025)  ;MENGE MENGENEINHEIT ;quantum 
	WRITE "</TH>"
	WRITE YCR
	WRITE "<TH VALIGN=TOP NOWRAP VALIGN=TOP align=LEFT ALIGN=LEFT WIDTH=10%"
	WRITE " BGCOLOR="_YDARKGRAY
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	WRITE $$^WWWTEXT(32024)  ;ARTIKEL ;item 
	WRITE "</TH>"
	WRITE YCR
	WRITE "<TH VALIGN=TOP NOWRAP VALIGN=TOP align=LEFT ALIGN=LEFT WIDTH=30%"
	WRITE " BGCOLOR="_YDARKGRAY
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	WRITE $$^WWWTEXT(32026)  ;BEZEICHNUNG ;notation 
	WRITE "</TH>"
	WRITE YCR
	WRITE "<TH VALIGN=TOP NOWRAP VALIGN=TOP align=LEFT ALIGN=LEFT WIDTH=30%"
	WRITE " BGCOLOR="_YDARKGRAY
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	WRITE $$^WWWTEXT(32027)  ;AUSFÜHRUNG ;execution 
	WRITE "</TH>"
	WRITE YCR
	WRITE "</TR>"
	SET ANZM=0
	;STRATEGIE 1 ARTIKELNUMMER ;strategy 
	IF $EXTRACT(VORG(1))'="*" IF VORG(1)'="" IF $DATA(^INART(YM,VORG(1))) SET ART=VORG(1) DO
	. SET ART1=$GET(^INART(YM,ART,1)) DO ANZ
	. QUIT
	;STRATEGIE 2 BEZEICHNUNG GENAU ;strategy notation truly 
	IF ANZM<10 IF VORG(1)'="" IF $EXTRACT(VORG(1))'="*" SET NAME=$$^WWWUMLAU(VORG(1),1) IF $DATA(^INARTs(YM,1,NAME)) DO
	. SET ART="" FOR  SET ART=$ORDER(^INARTs(YM,1,NAME,ART)) QUIT:ART=""  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . DO ANZ
	. . QUIT
	. QUIT
	;STRATEGIE 3 BEZEICHNUNG UNGENAU ;strategy notation inexact 
	IF ANZM<10 IF VORG(1)'="" IF $EXTRACT(VORG(1))'="*" SET NAME=$$^WWWUMLAU(VORG(1),1) FOR  SET NAME=$ORDER(^INARTs(YM,1,NAME)) QUIT:NAME=""  QUIT:'$FIND(NAME,$$^WWWUMLAU(VORG(1),1))  DO  QUIT:ANZM>50
	. SET ART="" FOR  SET ART=$ORDER(^INARTs(YM,1,NAME,ART)) QUIT:ART=""  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . DO ANZ
	. . QUIT
	. QUIT
	;STRATEGIE 4 SUCHEN ARTIKELNUMMERN ;strategy seek 
	IF ANZM<10 IF +VORG(1)'=0 FOR I=0:1:4 DO  QUIT:ANZM>50
	. SET ART=VORG(1)_$EXTRACT("00000000",1,I)
	. IF ART'=VORG(1) IF $DATA(^INART(YM,ART,1)) SET ART1=$GET(^INART(YM,ART,1)) DO ANZ
	. FOR  SET ART=$ORDER(^INART(YM,ART)) QUIT:ART=""  QUIT:'$FIND(ART,VORG(1))  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . IF VORG(1)'=ART DO ANZ QUIT
	. . QUIT
	. QUIT
	;STRATEGIE 4 SUCHEN ARTIKELNUMMERN ;strategy seek 
	IF ANZM<10 IF +VORG(1)'=0 FOR I=1 DO  QUIT:ANZM>50
	. SET ART=VORG(1)_$EXTRACT("    ",1,I)
	. IF ART'=VORG(1) IF $DATA(^INART(YM,ART,1)) SET ART1=$GET(^INART(YM,ART,1)) DO ANZ
	. FOR  SET ART=$ORDER(^INART(YM,ART)) QUIT:ART=""  QUIT:'$FIND(ART,VORG(1))  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . IF VORG(1)'=ART DO ANZ QUIT
	. . QUIT
	. QUIT
	;STRATEGIE 4 SUCHEN VOLLTEXT MODELL ;strategy seek full text 
	IF ANZM=0 IF VORG(1)'="" IF $EXTRACT(VORG(1))'="*" SET NAME="" FOR  SET NAME=$ORDER(^INARTs(YM,1,NAME)) QUIT:NAME=""  IF $FIND(NAME,$$^WWWUMLAU(VORG(1),1)) DO  QUIT:ANZM>50
	. SET ART="" FOR  SET ART=$ORDER(^INARTs(YM,1,NAME,ART)) QUIT:ART=""  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . DO ANZ
	. . QUIT
	. QUIT
	;STRATEGIE 4 SUCHEN VOLLTEXT ARTIKEL ;strategy seek full text item 
	IF ANZM=0 IF $EXTRACT(VORG(1))="*" SET VORG(1)=$$^WWWUMLAU($EXTRACT(VORG(1),2,99),1) SET NAME="" FOR  SET NAME=$ORDER(^INARTs(YM,1,NAME)) QUIT:NAME=""  DO  QUIT:ANZM>50
	. SET ART="" FOR  SET ART=$ORDER(^INARTs(YM,1,NAME,ART)) QUIT:ART=""  DO  QUIT:ANZM>50
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . IF VORG(1)'="" IF $FIND($$^WWWUMLAU(ART1_Y_ART,1),VORG(1)) DO ANZ QUIT
	. . IF VORG(1)="" DO ANZ QUIT
	. . QUIT
	. QUIT
	;STRATEGIE 7 SUCHEN ALTERNATIVE ARTIKELSUCHE ;strategy seek option 
	IF ANZM=0 DO    ;TYBD;25563;17,4,2004
	. SET ART="" FOR  SET ART=$ORDER(^INARTXCHs(YM,1,$$^WWWUMLAU(VORG(1),1),ART)) QUIT:ART=""  DO  QUIT:ANZM>50    ;SSOK
	. . SET ART1=$GET(^INART(YM,ART,1))
	. . DO ANZ QUIT  
	. . QUIT
	. QUIT
	IF ANZM=0 DO   ;KEIN DATENYTEIL1 GEFUNDEN ;no 
	. WRITE "<TR>"
	. SET YDDSATZ=YDDSATZ+1
	. WRITE "<TD NOWRAP VALIGN=TOP"
	. IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	. WRITE ">"
	. WRITE "<FONT SIZE=2>"
	. WRITE "&nbsp;"
	. WRITE "</TD>"
	. WRITE YCR
	. WRITE "<TD NOWRAP VALIGN=TOP"
	. IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	. WRITE ">"
	. WRITE "<FONT SIZE=2>"
	. WRITE "&nbsp;"
	. WRITE "</TD>"
	. WRITE YCR
	. WRITE "<TD NOWRAP VALIGN=TOP"
	. IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	. WRITE ">"
	. WRITE "<FONT SIZE=2>"
	. WRITE "&nbsp;"
	. WRITE "</TD>"
	. WRITE YCR
	. WRITE "<TD NOWRAP VALIGN=TOP"
	. IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	. WRITE ">"
	. WRITE "<FONT SIZE=2>"
	. WRITE "&nbsp;"
	. WRITE "</TD>"
	. WRITE YCR
	. WRITE "</TR>"
	. QUIT
	DO ^WWWFRAME(1)   ;TABLE AUS ;out of 
	WRITE YCR
	WRITE "<BR>"
	IF ANZM>49 WRITE "<B>",$$^WWWTEXT(32111),"</B>"  ;Weitere Artikel vorhanden.... Suche einschränken!
	KILL ^WWWSOR(YUSER,"ARTIKEL")
	QUIT
	
ANZ ;
	;anzeige suchergebnis auswahl der Menge ;Selection who Quantity 
	NEW DIMENS,DOPPEL
	SET DIMENS=0   ;DIMENSIONEN
	IF +$PIECE(ART1,Y,26)=0!($PIECE(ART1,Y,26)=2)!($PIECE(ART1,Y,26)=3)!($PIECE(ART1,Y,26)=1) DO   ;NUR WENN BESTELL ODER EIGENFERTIGUNG ;only when Or 
	. ;IF $PIECE(ART1,Y,37)="" IF $PIECE(ART1,Y,172)="" QUIT  ;KEIN MATERIAL
	. QUIT:ART'=$TR(ART,",.-#;:_'+*´?=!§%&/()=[]{}²³@|><"_"""")
	. IF $PIECE(ART1,Y,40)'=5 IF $PIECE(ART1,Y,40)'=6 IF $PIECE(ART1,Y,40)'=12 IF $PIECE(ART1,Y,40)'=15 IF $PIECE(ART1,Y,40)'=4 QUIT  ;FALSCHE EINHEIT ;unity 
	. SET DIMENS=1  ;DIM VORHANDEN ;on hand 
	. QUIT
	IF +$PIECE(ART1,Y,26)=7 QUIT  ;FIS;31.03.03;23155;KONFIGURATIONSARTIKEL=KEIN UNTERTEIL
	QUIT:$DATA(^WWWSOR(YUSER,"ARTIKEL",ART))
	SET ^WWWSOR(YUSER,"ARTIKEL",ART)=""
	;EIGENANGEBOT
	IF $PIECE(YFELD,Y,2)=1 IF +$PIECE(ART1,Y,26)'=0 IF $PIECE(ART1,Y,26)'=2 IF $PIECE(ART1,Y,26)'=3 QUIT  ;NUR LEISTUNGEN UND EIGENFERTIGUNG BEI INNTERNEM ANGEBOT ;only LEISTUNGEN And next to proposition 
	;LIEFERANTEN BESTELLUNG ;sales order 
	IF $PIECE(YFELD,Y,2)=2 IF $PIECE(ART1,Y,26)'=0 IF $PIECE(ART1,Y,26)'=1 IF $PIECE(ART1,Y,26)'=4 QUIT  ;NUR BESTELLUNG UND KLEINTEILE BER BESTELLUNGEN  ;only sales order And 
	IF $PIECE(YPOSITION1,Y,26)=2 IF $PIECE(ART1,Y,26)'=2 QUIT   ;NUR LEISTUNGEN AN LEISTUNGEN TYBD 07.05.2002 ;only LEISTUNGEN upon LEISTUNGEN 
	;PRÜFEN OB TEIL IN GLEICHEM TEIL;FIS;23867;07.07.03
	SET DOPPEL=0
	DO
	. NEW DATEI,YI
	. IF $PIECE($GET(^INANGP(YM,YANGEBOT,YPOSITION,1)),Y,4)=ART SET DOPPEL=1 QUIT
	. QUIT:$GET(YPARA)=""
	. SET DATEI="^INANGPXL("_""""_YM_""""_","_""""_YANGEBOT_""""_","_YPOSITION
	. FOR YI=0:1:$LENGTH(YPARA,",")  QUIT:$PIECE(YPARA,",",1,$LENGTH(YPARA,",")-YI)=""  DO  Q:DOPPEL=1
	. . SET DATEI(1)=DATEI_","_$PIECE(YPARA,",",1,$LENGTH(YPARA,",")-YI)
	. . SET DATEI(1)=DATEI(1)_")"
	. . IF $PIECE($GET(@DATEI(1)),Y,4)=ART SET DOPPEL=1
	. . QUIT
	. QUIT
	SET ANZM=ANZM+1
	WRITE "<TR>"
	WRITE YCR
	SET YDDSATZ=YDDSATZ+1
	;MENGE ;quantum 
	WRITE "<TD NOWRAP VALIGN=MIDDLE"
	IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	;MENGENAUSWAHL
	WRITE "<INPUT NAME="_"YMNG"_ART_" SIZE=5 MAXLENGTH=5 TYPE=float VALUE="_""""_""""
	WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""_" style="_""""_"text-align:right"_""""
	WRITE " onFocus='select();'"
	IF $GET(YHTMFORM)="WWW2" DO
	. WRITE YCR," onBlur='"
	. WRITE " retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YMNG"_ART_""""_");"
	. ;WRITE "document.WWW.ITEMS.value="_""""_ART_""""_";document.WWW.ITEMSQ.value=this.value;"
	. ;WRITE "document.WWW.ITEMBENN.value=document."_YHTMFORM_".YBEN"_ART_".value;"
	. ;IF DIMENS=1 DO
	. ;.WRITE "document.WWW.ITEMLNGN.value=document."_YHTMFORM_".YLNG"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMBRTN.value=document."_YHTMFORM_".YBRT"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMHOEN.value=document."_YHTMFORM_".YHOE"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMMULN.value=document."_YHTMFORM_".YMUL"_ART_".value;"
	. ;.QUIT
	. WRITE "'"
	. QUIT
	WRITE YCR
	WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	WRITE " STYLE="_""""_"background-color: 'beige'"_""""
	WRITE ">"
	IF $PIECE(ART1,Y,66)=1 WRITE "<FONT COLOR=RED>"   ;ARTIKEL ;item 
	IF $PIECE(ART1,Y,66)=2 WRITE "<FONT COLOR=ORANGE>"   ;ACHTUNG ;estimation 
	IF $PIECE(ART1,Y,66)=3 WRITE "<FONT COLOR=GREEN>"   ;
	WRITE "&nbsp;"
	IF $PIECE(ART1,Y,46)="" SET $PIECE(ART1,Y,46)=$PIECE(ART1,Y,40)  ;VERKAUFSEINHEIT=MENGENEINHEIT
	IF $PIECE(ART1,Y,46)="" SET $PIECE(ART1,Y,46)=1
	;MENGENEINHEIT
	IF '$DATA(^WWW101(0,"EINHEIT",SPRACHE,+$PIECE(ART1,Y,46),1)) SET $PIECE(ART1,Y,46)=1  ;STUECK
	IF +$PIECE(ART1,Y,46)'=0 WRITE $PIECE($GET(^WWW101(0,"EINHEIT",SPRACHE,$PIECE(ART1,Y,46),1)),Y,1)  ;EINHEIT ;unity 
	WRITE "&nbsp;"
	;BREITE/LÄNGE/HÖHE
	IF DIMENS=1 DO
	. WRITE YCR
	. WRITE "<BR>"
	. WRITE "<INPUT NAME="_"YLNG"_ART_" SIZE=5 MAXLENGTH=10 TYPE=float VALUE="_""""_$$^WWWTR(0,12,$PIECE(ART1,Y,15))_""""
	. WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""_" style="_""""_"text-align:right"_""""
	. WRITE " onFocus='select();'"
	. WRITE YCR
	. WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	. WRITE YCR
	. SET ^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","YLNG"_ART,1)=$PIECE(ART1,Y,15)  ;DATEN ZUR PRUEFUNG
	. WRITE " onBlur='retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_""""_","_""""_"INMNGART"_""""_",this.value,6,"_""""_ART_""""_" + "_""""_"/"_""""_" + "_"document."_YHTMFORM_".YBRT"_ART_".value"_"+"_""""_"/"_""""_" + "_"document."_YHTMFORM_".YHOE"_ART_".value"_"); if (retval != "_""""_""""_") document."_YHTMFORM_".YMNG"_ART_".value = retval;"
	. IF $GET(YHTMFORM)="WWW2" WRITE " retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YLNG"_ART_""""_");"
	. ;IF $GET(YHTMFORM)="WWW2" DO
	. ;.WRITE "document.WWW.ITEMS.value = "_""""_ART_""""_";"
	. ;.WRITE "document.WWW.ITEMSQ.value = retval;"
	. ;.WRITE "document.WWW.ITEMLNGN.value=document."_YHTMFORM_".YLNG"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMBRTN.value=document."_YHTMFORM_".YBRT"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMHOEN.value=document."_YHTMFORM_".YHOE"_ART_".value;"
	. ;.QUIT
	. WRITE "'"
	. ;
	. WRITE ">"
	. WRITE " Dim.1"
	. ;
	. WRITE YCR
	. WRITE "<BR>"
	. WRITE "<INPUT NAME="_"YBRT"_ART_" SIZE=5 MAXLENGTH=10 TYPE=float VALUE="_""""_$$^WWWTR(0,12,$PIECE(ART1,Y,16))_""""
	. WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""_" style="_""""_"text-align:right"_""""
	. WRITE " onFocus='select();'"
	. WRITE YCR
	. WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	. WRITE YCR
	. ;
	. SET ^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","YBRT"_ART,1)=$PIECE(ART1,Y,16)  ;DATEN ZUR PRUEFUNG
	. WRITE " onBlur='retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_""""_","_""""_"INMNGART"_""""_",this.value,6,"_""""_ART_""""_" + "_""""_"/"_""""_" + "_"document."_YHTMFORM_".YLNG"_ART_".value"_"+"_""""_"/"_""""_" + "_"document."_YHTMFORM_".YHOE"_ART_".value"_"); if (retval != "_""""_""""_") document."_YHTMFORM_".YMNG"_ART_".value = retval;"
	. IF $GET(YHTMFORM)="WWW2" WRITE " retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YBRT"_ART_""""_");"
	. ;IF $GET(YHTMFORM)="WWW2" DO
	. ;.WRITE "document.WWW.ITEMS.value = "_""""_ART_""""_";"
	. ;.WRITE "document.WWW.ITEMSQ.value = retval;"
	. ;.WRITE "document.WWW.ITEMLNGN.value=document."_YHTMFORM_".YLNG"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMBRTN.value=document."_YHTMFORM_".YBRT"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMHOEN.value=document."_YHTMFORM_".YHOE"_ART_".value;"
	. ;.QUIT
	. WRITE "'"
	. ;
	. WRITE ">"
	. WRITE " Dim.2"
	. ;
	. WRITE YCR
	. WRITE "<BR>"
	. WRITE "<INPUT NAME="_"YHOE"_ART_" SIZE=5 MAXLENGTH=10 TYPE=float VALUE="_""""_$$^WWWTR(0,12,$PIECE(ART1,Y,17))_""""
	. WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""_" style="_""""_"text-align:right"_""""
	. WRITE " onFocus='select();'"
	. WRITE YCR
	. WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	. WRITE YCR
	. SET ^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,"V","YHOE"_ART,1)=$PIECE(ART1,Y,17)  ;DATEN ZUR PRUEFUNG
	. WRITE " onBlur='retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_""""_","_""""_"INMNGART"_""""_",this.value,6,"_""""_ART_""""_" + "_""""_"/"_""""_" + "_"document."_YHTMFORM_".YBRT"_ART_".value"_"+"_""""_"/"_""""_" + "_"document."_YHTMFORM_".YLNG"_ART_".value"_"); if (retval != "_""""_""""_") document."_YHTMFORM_".YMNG"_ART_".value = retval;"
	. IF $GET(YHTMFORM)="WWW2" WRITE " retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YHOE"_ART_""""_");"
	. ;IF $GET(YHTMFORM)="WWW2" DO
	. ;.WRITE "document.WWW.ITEMS.value = "_""""_ART_""""_";"
	. ;.WRITE "document.WWW.ITEMSQ.value = retval;"
	. ;.WRITE "document.WWW.ITEMLNGN.value=document."_YHTMFORM_".YLNG"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMBRTN.value=document."_YHTMFORM_".YBRT"_ART_".value;"
	. ;.WRITE "document.WWW.ITEMHOEN.value=document."_YHTMFORM_".YHOE"_ART_".value;"
	. ;.QUIT
	. WRITE "'"
	. ;
	. WRITE ">"
	. WRITE " Dim.3"
	. ;
	. W "<IMG SRC="_""""_YGIF_"total.gif"_""""_" ALIGN=right TITLE="_""""_$$^WWWTEXT(32366)_""""_" border=0>"
	. WRITE "</TD>"
	. WRITE YCR
	. QUIT
	;ARTIKEL NUMMER ;item numeral 
	WRITE "<TD NOWRAP ALIGN=LEFT VALIGN=TOP"
	IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	IF $PIECE(ART1,Y,66)=1 WRITE "<FONT COLOR=RED>"   ;ARTIKEL ;item 
	IF $PIECE(ART1,Y,66)=2 WRITE "<FONT COLOR=ORANGE>"   ;ACHTUNG ;estimation 
	IF $PIECE(ART1,Y,66)=3 WRITE "<FONT COLOR=GREEN>"   ;
	WRITE ART
	WRITE "&nbsp;"
	WRITE "</TD>"
	WRITE YCR
	;BEZEICHNUNG ;notation 
	WRITE "<TD NOWRAP VALIGN=TOP"
	IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	IF $PIECE(ART1,Y,66)=1 WRITE "<FONT COLOR=RED>"   ;ARTIKEL ;item 
	IF $PIECE(ART1,Y,66)=2 WRITE "<FONT COLOR=ORANGE>"   ;ACHTUNG ;estimation 
	IF $PIECE(ART1,Y,66)=3 WRITE "<FONT COLOR=GREEN>"   ;
	WRITE $PIECE(ART1,Y,1)
	WRITE "<BR>"
	WRITE "<INPUT NAME="_"YBEN"_ART_" SIZE=20 MAXLENGTH=40 TYPE=TEXT VALUE="_""""_""""
	WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""
	WRITE " onFocus='select();'"
	;IF $GET(YHTMFORM)="WWW2" WRITE " onBlur='document.WWW.ITEMBENN.value=this.value;'"
	IF $GET(YHTMFORM)="WWW2" WRITE " onBlur='retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YBEN"_ART_""""_");'"
	WRITE YCR
	WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	WRITE ">"
	;MENGE, WENN VIELE EINHEITEN
	IF DIMENS=1 DO
	. WRITE "<BR>"
	. WRITE "<INPUT NAME="_"YMUL"_ART_" SIZE=4 MAXLENGTH=10 TYPE=TEXT VALUE="_""""_""""
	. WRITE " TABINDEX=ART style="_""""_"padding-top:0 ;padding-bottom:0"_""""
	. WRITE " onFocus='select();'"
	. ;IF $GET(YHTMFORM)="WWW2" WRITE YCR," onBlur='document.WWW.ITEMMULN.value=this.value;'"
	. IF $GET(YHTMFORM)="WWW2" WRITE " onBlur='retval = EventValue("_""""_YUCI_""""_","_""""_YUSER_""""_","_""""_YFORM_""""_","_""""_"FIX"_$G(YKEY)_""""_","_""""_""""_",this.value,"_""""_"0"_""""_","_""""_"YMUL"_ART_""""_");'"
	. WRITE YCR
	. WRITE " onKeyDown='if (event.keyCode == 13) event.keyCode = 9;'"
	. WRITE ">"
	. WRITE "&nbsp;"_$$^WWWTEXT(32240)  ;MENGE
	. WRITE YCR
	. QUIT
	;TEIL IN EIGENEM TEIL ;FIS;23867;07.07.03
	IF DOPPEL=1 DO
	. WRITE "<BR>"
	. WRITE "<FONT COLOR="_YRED_"><B>"_$$^WWWTEXT(33525,,1)_"</B></FONT>"  ;ACHTUNG ARTIKEL KANN NICHT IN SICH SELBST EINGEBAUT WERDEN ;estimation item Not within yourself self in-built will 
	. QUIT
	WRITE "</TD>"
	WRITE YCR
	;AUSFÜHRUNG ;execution 
	WRITE "<TD VALIGN=TOP WIDTH=250"
	IF YDDSATZ#2=1 WRITE " BGCOLOR="_YWHITE
	WRITE ">"
	WRITE "<FONT SIZE=2>"
	IF $PIECE(ART1,Y,66)=1 WRITE "<FONT COLOR=RED>"   ;
	IF $PIECE(ART1,Y,66)=2 WRITE "<FONT COLOR=ORANGE>"   ;
	IF $PIECE(ART1,Y,66)=3 WRITE "<FONT COLOR=GREEN>"   ;
	WRITE $TRANSLATE($PIECE(ART1,Y,14),"|"," ")
	WRITE "&nbsp;"
	WRITE "</TD>"
	WRITE YCR
	WRITE YCR
	WRITE "</TR>"
	QUIT
	
HIDDEN ;NEU HIDDENFELDER ;recent 
	QUIT:$GET(YHTMFORM)'="WWW2"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMS"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMSQ"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMBENN"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMMULN"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMLNGN"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMBRTN"_""""_" VALUE="_""""_""""_">"
	WRITE YCR,"<INPUT TYPE=HIDDEN NAME="_""""_"ITEMHOEN"_""""_" VALUE="_""""_""""_">"
	QUIT
]]></Routine>
</Export>