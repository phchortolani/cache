<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="WWWCUSTOMLIST" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
WWWCUSTOMLIST(YCOM)	;WWWCUSTOMLIST;FIS;SHOW ALL CUSTOMIZED FIELDS;23.06.2004  ; Compiled January 17, 2005 15:47:55
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		SHOW ALL CUSTOMIZED FIELDS
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;|
	;| FIS	23.06.2004  
	;|
	;\------------------------------------------------------------------/
	;
	NEW FIELD,FORM,TYPE,COMPANY,SATZ,ANZ,PROG,MENU
	SET YCOM=$GET(YCOM)
	SET VORG(1)=$GET(VORG(1))
	IF YCOM'="" SET VORG(1)=YCOM
	IF VORG(1)="" SET VORG(1)=YM
	KILL ^WWWSOR(YUSER)
	SET ANZ=0
	DO SORT
	IF ANZ'=0 DO LIST
	IF ANZ=0 DO ^WWWINFO($$^WWWTEXT(119))
	KILL ^WWWSOR(YUSER)
	QUIT
	
SORT	;SEARCH CUSTOMIZED FIELDS
	SET FORM="" FOR  SET FORM=$ORDER(^WWW121D(0,FORM)) QUIT:FORM=""  DO
	. SET FIELD="" FOR  SET FIELD=$ORDER(^WWW121D(0,FORM,FIELD)) QUIT:FIELD=""  DO
	. . IF $DATA(^WWW121D(0,FORM,FIELD,VORG(1))) DO
	. . . ;IF $GET(^WWW121D(0,FORM,FIELD,VORG(1),1))="" QUIT
	. . . SET ANZ=ANZ+1
	. . . SET ^WWWSOR(YUSER,"SORT",VORG(1),FORM,"KEY",FIELD)=""
	. . . QUIT
	. . QUIT
	. QUIT
	SET FORM="" FOR  SET FORM=$ORDER(^WWW122D(0,FORM)) QUIT:FORM=""  DO
	. SET FIELD="" FOR  SET FIELD=$ORDER(^WWW122D(0,FORM,FIELD)) QUIT:FIELD=""  DO
	. . IF $DATA(^WWW122D(0,FORM,FIELD,VORG(1))) DO
	. . . ;IF $GET(^WWW122D(0,FORM,FIELD,VORG(1),1))="" QUIT
	. . . SET ANZ=ANZ+1
	. . . SET ^WWWSOR(YUSER,"SORT",VORG(1),FORM,"FIELD",FIELD)=""
	. . . QUIT
	. . QUIT
	. QUIT
	SET PROG="" FOR  SET PROG=$ORDER(^WWW00441(0,PROG)) QUIT:PROG=""  DO
	. SET MENU="" FOR  SET MENU=$ORDER(^WWW00441(0,PROG,MENU)) QUIT:MENU=""  DO
	. . IF $PIECE($GET(^WWW00441(0,PROG,MENU,1)),Y,1)'="" DO
	. . . SET ANZ=ANZ+1
	. . . SET ^WWWSOR(YUSER,"SORT",VORG(1),PROG,"MENU",MENU)=""
	. . . QUIT
	. . QUIT
	. QUIT
	QUIT
	
LIST	  ;SHOW FIELDS
	DO ^WWWBACK
	WRITE "<B>&nbsp;"
	WRITE $$^WWWFELDNAME("WWW012","P",1)_": "_VORG(1)
	IF VORG(1)'="" WRITE " - "_$PIECE($GET(^WWW012(0,VORG(1),1)),Y,1)
	WRITE "</B>"
	NEW YDDSATZ
	SET YDDSATZ=1
	DO START100^WWWTAB
	DO HEADER^WWWTAB($$^WWWTEXT(283)_Y_$$^WWWFELDNAME("WWW122D","D",6)_Y_$$^WWWFELDNAME("WWW003","D",2)_" ("_SPRACHE_")"_Y_$$^WWWFELDNAME("WWW003","D",2)_Y_$$^WWWTEXT(43)_"/"_$$^WWWTEXT(179)_"/"_$$^WWWTEXT(180)_Y_$$^WWWTEXT(43)_"/"_$$^WWWTEXT(179)_"/"_$$^WWWTEXT(180),2)
	;                   DATENFELDER          FELDBEZEICHNUNG                      FELDNAME FORMULAR (SPRACHE)               FELDNAME FORMULAR (ORIGINAL)                    SEITE / ZEILE / SPALTE           
	SET COMPANY=VORG(1) DO
	. SET FORM="" FOR  SET FORM=$ORDER(^WWWSOR(YUSER,"SORT",COMPANY,FORM)) QUIT:FORM=""  DO
	. . ;
	. . DO NL^WWWTAB
	. . DO NFCOL^WWWTAB(,,6)
	. . WRITE "<FONT SIZE=2>"
	. . WRITE "<B>"_FORM
	. . DO
	. . . IF $DATA(^WWW1201(0,FORM,SPRACHE,1)) WRITE "&nbsp;-&nbsp;"_$PIECE(^(1),Y,1) QUIT
	. . . IF $DATA(^WWW120(0,FORM,1)) WRITE "&nbsp;-&nbsp;"_$PIECE(^(1),Y,1) QUIT
	. . . QUIT
	. . WRITE "&nbsp;"
	. . DO EF^WWWTAB
	. . DO EL^WWWTAB
	. . ;
	. . SET TYPE="" FOR  SET TYPE=$ORDER(^WWWSOR(YUSER,"SORT",COMPANY,FORM,TYPE)) QUIT:TYPE=""  DO
	. . . SET FIELD="" FOR  SET FIELD=$ORDER(^WWWSOR(YUSER,"SORT",COMPANY,FORM,TYPE,FIELD)) QUIT:FIELD=""  DO
	. . . . IF TYPE="KEY" DO
	. . . . . SET SATZ(1)=$GET(^WWW121(0,FORM,FIELD,1))  ;ORIGINAL FORMDEFINITION
	. . . . . SET SATZ(2)=$GET(^WWW121D(0,FORM,FIELD,COMPANY,1))  ;CUSTOMIZING
	. . . . . QUIT
	. . . . IF TYPE="FIELD" DO
	. . . . . SET SATZ(1)=$GET(^WWW122(0,FORM,FIELD,1))  ;ORIGINAL FORMDEFINITION
	. . . . . SET SATZ(2)=$GET(^WWW122D(0,FORM,FIELD,COMPANY,1))  ;CUSTOMIZING
	. . . . . QUIT
	. . . . IF TYPE="MENU" DO
	. . . . . SET SATZ(1)=""
	. . . . . SET SATZ(2)=""
	. . . . . SET $PIECE(SATZ(1),Y,12)=$PIECE($GET(^WWW004(0,FORM,FIELD,1)),Y,1)  ;ORIGINAL NAME
	. . . . . SET $PIECE(SATZ(2),Y,6)=$PIECE($GET(^WWW00441(0,FORM,FIELD,1)),Y,1)  ;CUSTOMIZING
	. . . . . QUIT
	. . . . ;
	. . . . DO NL^WWWTAB
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . IF TYPE="KEY" WRITE $$^WWWFELDNAME("WWW002","P",2)
	. . . . IF TYPE="FIELD" WRITE $$^WWWFELDNAME("WWW003","P",2)
	. . . . IF TYPE="MENU" WRITE $$^WWWFELDNAME("WWW00441","P",2)
	. . . . WRITE "&nbsp;"
	. . . . WRITE FIELD
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . ;
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . WRITE $PIECE(SATZ(2),Y,6)  ;FELDBEZEICHNUNG
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . ;
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . IF TYPE="KEY" DO
	. . . . . IF $PIECE(SATZ(1),Y,1)'="" IF $DATA(^WWW0021(0,FORM,$PIECE(SATZ(1),Y,1),SPRACHE,1)) WRITE $PIECE(^(1),Y,1) QUIT
	. . . . . IF $DATA(^WWW1211(0,FORM,FIELD,SPRACHE,1)) WRITE $PIECE(^(1),Y,1) QUIT
	. . . . . WRITE $PIECE(SATZ(1),Y,12)  ;FORMULARFELDBEZEICHNUNG
	. . . . . QUIT
	. . . . IF TYPE="FIELD" DO
	. . . . . IF $PIECE(SATZ(1),Y,1)'="" IF $DATA(^WWW0031(0,FORM,$PIECE(SATZ(1),Y,1),SPRACHE,1)) WRITE $PIECE(^(1),Y,1) QUIT
	. . . . . IF $DATA(^WWW1221(0,FORM,FIELD,SPRACHE,1)) WRITE $PIECE(^(1),Y,1) QUIT
	. . . . . WRITE $PIECE(SATZ(1),Y,12)  ;FORMULARFELDBEZEICHNUNG
	. . . . . QUIT
	. . . . IF TYPE="MENU" DO
	. . . . . IF $DATA(^WWW0041(0,FORM,FIELD,SPRACHE,1)) WRITE $PIECE(^(1),Y,1) QUIT
	. . . . . WRITE $PIECE(SATZ(1),Y,12)  ;FORMULARFELDBEZEICHNUNG
	. . . . . QUIT
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . ;
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . WRITE $PIECE(SATZ(1),Y,12)  ;FORMULARFELDBEZEICHNUNG
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . ;
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . IF $PIECE(SATZ(2),Y,60)="" SET $PIECE(SATZ(2),Y,60)=$PIECE(SATZ(1),Y,60)
	. . . . IF $PIECE(SATZ(2),Y,61)="" SET $PIECE(SATZ(2),Y,61)=$PIECE(SATZ(1),Y,3)
	. . . . IF $PIECE(SATZ(2),Y,62)="" SET $PIECE(SATZ(2),Y,62)=$PIECE(SATZ(1),Y,4)
	. . . . WRITE $PIECE(SATZ(2),Y,60)_"&nbsp;/&nbsp;"_$PIECE(SATZ(2),Y,61)_"&nbsp;/&nbsp;"_$PIECE(SATZ(2),Y,62)  ;POSITION
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . ;
	. . . . DO NF^WWWTAB
	. . . . WRITE "<FONT SIZE=2>"
	. . . . WRITE $PIECE(SATZ(1),Y,60)_"&nbsp;/&nbsp;"_$PIECE(SATZ(1),Y,3)_"&nbsp;/&nbsp;"_$PIECE(SATZ(1),Y,4)  ;ORIGINAL POSITION
	. . . . WRITE "&nbsp;"
	. . . . DO EF^WWWTAB
	. . . . DO EL^WWWTAB
	. . . . QUIT
	. . . QUIT
	. . QUIT
	. QUIT
	DO STOP^WWWTAB
	QUIT
	QUIT
]]></Routine>
</Export>