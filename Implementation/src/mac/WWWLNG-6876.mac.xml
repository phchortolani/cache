<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="WWWLNG" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
WWWLNG
	#include COMSYS
	;-------------------------------------------------------------------------------
	; Description of Function :
	;		FRAGE NACH SPRACHENTEXTEN
	;	AUTMATISCH MIT D JOB^WWWLNG("EN","FR")  ;Z.B.VON ENGLISCH NACH FRANZÖSISCH
	;
	; Inputs : 
	;
	;
	; ByRef :
	;
	;
	; Returns :
	;
	;
	; History :
	; 31-Aug-2007	GRF		Naked Ref; disabled block
	; 10-Oct-2006	HeberB	SR14307: Show translated text that is on database
	; 12-Sep-2006	GM		SR14305: Fixing the save button 
	; 30-May-2005	RobertW	SR12056: Attempt at Performance Increase
	; 26.10.1998	DT
	;-------------------------------------------------------------------------------
	new YWWW,NACH,VON,N,F,ABW,LNG,TEXT0,TEXT1,TEXT,AUTOMATIC,SCHLUE0,SCHLUE1,I,NEU
	new strGlobal,strKeys,strGlobalAccess,TEXT3		; SR14307
	
	SET NEU=0  ;NICHT NEU , NUR ERWEITERUNGEN
	;SET NEU=1  ;ALLES NEU ;table-mat whatsoever recent 
	
	SET YWWW=0  ;MERKER FÜR: NICHT WWW ÜBERSETZEN ;Not WWW translate 
	;SET YWWW=1  ;MERKER FÜR: NUR WWW ÜBERSETZEN    Bec;25865;07.06.04;auch nicht @net Formulare
	;SET YWWW=2  ;MERKER=ALLES NEU ;table-mat recent 
	
	SET VON  = $GET(%(YQUERY,"VON"))   ;VON SPRACHE ;Language 
	SET NACH = $GET(%(YQUERY,"NACH"))  ;NACH SPRACHE ;within Language 
	
	SET SCHLUE0 = $$UNESC^WWWENCODE($GET(%(YQUERY,"SCHLUE0")))  ;VON TEXT
	SET SCHLUE1 = $$UNESC^WWWENCODE($GET(%(YQUERY,"SCHLUE1")))  ;NACH TEXT ;within Text 
	SET TEXT0   = $$UNESC^WWWENCODE($GET(%(YQUERY,"TEXT0")))    ;VON TEXT
	SET TEXT1   = $$UNESC^WWWENCODE($GET(%(YQUERY,"TEXT1")))    ;NACH TEXT ;within Text 
	
	SET AUTOMATIC=$GET(%(YQUERY,"AUTOMATIC"))  ;AUTOMATISCH ;automatic 
	
	IF VON="" SET VON=$PIECE($GET(^WWW013(0,YBED,1)),Y,6)
	IF $PIECE($GET(^WWW013(0,YBED,1)),Y,94)'="" SET NACH=$PIECE(^WWW013(0,YBED,1),Y,94)  ;TYBD;21.07.2003;24025
	IF NACH=1   SET NACH=""  ;ALTE VERSION
	IF NACH=""  SET NACH="EN"
	IF VON=NACH SET NACH="DE"
	IF VON=""   SET VON="DE"
	
	;SET VON="DE"
	;S NACH="EN"
	;SET NACH="FR",NEU=1  ;FR ALLES NEU
	
	; SR14307
	; Recover translation to shown on form
	set TEXT3=""
	if SCHLUE1'="" {
		//do TRANSLATE
		quit:$TRANSLATE(SCHLUE1," |_")=""
		set strGlobalAccess = ""
		
		set strGlobal=$piece(SCHLUE1,"(",1)
		set strKeys=$$^WWWKEYBUILD($piece($piece(SCHLUE1,"(",2),")",1))
		set strGlobalAccess=strGlobal_"("_strKeys_")"
		
		if $data(@strGlobalAccess) {
			set TEXT3=@strGlobalAccess
		}		
	}
	; end SR14307
	
	DO ^WWWVORG
	DO KOPF
	DO FRAGE
	DO ENDE
	QUIT
	
KOPF ;
	WRITE YCR,"<TABLE CELLSPACING=0><TR>"
	
	WRITE "<TD NOWRAP>"
	WRITE $$^WWWTEXT(68)
	WRITE YCR,"<SELECT NAME=""VON"""
	WRITE " onChange='SAVENOW();'"
	WRITE ">"
	WRITE YCR,"<option value="""""
	WRITE "></option>"
	SET ABW=""
	FOR  SET ABW=$ORDER(^WWW100(0,"SPRACHE",SPRACHE,ABW)) QUIT:ABW=""  DO
	. SET YA=$PIECE($GET(^WWW100(0,"SPRACHE",SPRACHE,ABW,1)),Y,1)
	. WRITE YCR,"<option value="""_ABW_""""
	. IF ABW=VON WRITE " SELECTED=SELECTED"
	. WRITE ">"_YA_"</option>"
	WRITE "</SELECT>"
	WRITE "</TD>"
	
	;---------------------------------------
	
	WRITE "<TD NOWRAP>"
	WRITE $$^WWWTEXT(131)
	WRITE YCR,"<SELECT NAME=""NACH"""
	WRITE " onChange='SAVENOW();'"
	WRITE ">"
	WRITE YCR,"<option value="""""
	WRITE "></option>"
	SET ABW=""
	FOR  SET ABW=$ORDER(^WWW100(0,"SPRACHE",SPRACHE,ABW)) QUIT:ABW=""  DO
	. SET YA=$PIECE($GET(^WWW100(0,"SPRACHE",SPRACHE,ABW,1)),Y,1)
	. WRITE YCR,"<option value="""_ABW_""""
	. IF ABW=NACH WRITE " SELECTED=SELECTED"
	. WRITE ">"_YA_"</option>"
	WRITE "</SELECT>"
	WRITE "</TD>"
	
	;---------------------------------------
	
	WRITE "<TD NOWRAP>"
	WRITE "Automatic "
	DO
	. WRITE YCR,"<INPUT TYPE=""CHECKBOX"""
	. WRITE YCR," NAME=""AUTOMATIC"""
	. WRITE YCR," VALUE=""1"""
	. IF AUTOMATIC="1" WRITE YCR," CHECKED=""CHECKED"""
	. WRITE YCR," style=""padding-left:1"""   ;style
	. WRITE ">"
	WRITE "</TD>"
	
	;---------------------------------------
	
	WRITE "<TR>",YCR
	WRITE "</TABLE>",YCR
	
	WRITE YCR,"<TABLE CELLSPACING=0>"
	QUIT
	
ENDE ;
	WRITE "</TABLE>",YCR
	QUIT
	
FRAGE ;
	SET Q=0
	
	IF +AUTOMATIC=0 IF SCHLUE0'="" IF SCHLUE1'="" DO  QUIT
	. DO
	. . NEW TEXT0,TEST1,SCHLUE
	. . QUIT:$TRANSLATE(SCHLUE0," |_")=""
	. . SET SCHLUE=""
	. . FOR I=1:1 QUIT:$PIECE(SCHLUE0,",",I)=""  DO
	. . . SET SCH=$PIECE(SCHLUE0,",",I)
	. . . IF $PIECE(SCHLUE0,",",I+1)'="" IF I'=1 SET SCH=""""_SCH_""""
	. . . SET SCHLUE=SCHLUE_SCH
	. . . IF $PIECE(SCHLUE0,",",I+1)'="" SET SCHLUE=SCHLUE_","
	. . ;
	. . SET TEXT0=$PIECE(@SCHLUE,Y,1)
	. . QUIT:TEXT0=""
	. . DO UEBER
	. ;
	. DO TEXTERF 
	. SET Q=1
	
	QUIT:Q=1
	
	IF YWWW'=1 IF Q=0 SET F="" FOR  SET F=$ORDER(^WWW009(0,VON,F)) QUIT:F=""  DO  QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW009(0,NACH,F,1))'=""
	. SET TEXT0=$PIECE(^WWW009(0,VON,F,1),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW009(0,NACH,F,1)),Y,1)
	. SET SCHLUE0="^WWW009(0,"_VON_","_F_",1)"
	. SET SCHLUE1="^WWW009(0,"_NACH_","_F_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW100(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW100(0,F,VON,N)) QUIT:N=""  DO  QUIT:Q=1
	. QUIT:Q=1
	. IF NEU=0 QUIT:$DATA(^WWW100(0,F,NACH,N))
	. SET TEXT0=$PIECE(^WWW100(0,F,VON,N,1),Y,1)
	. QUIT:TEXT0=""
	. SET TEXT1=$PIECE($GET(^WWW100(0,F,NACH,N,1)),Y,1)
	. SET SCHLUE0="^WWW100(0,"_F_","_VON_","_N_",1)"
	. SET SCHLUE1="^WWW100(0,"_F_","_NACH_","_N_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	
	;vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv DISABLED BLOCK START
	;SET F="" FOR  SET F=$ORDER(^INPARA(YM,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^INPARA(YM,F,VON,N)) QUIT:N=""  DO  QUIT:Q=1
	. QUIT:Q=1
	. QUIT:$EXTRACT(F,1,5)="WAREN"
	. IF NEU=0 QUIT:$DATA(^INPARA(YM,F,NACH,N))
	. SET TEXT0=$PIECE(^INPARA(YM,F,VON,N,1),Y,1)
	. QUIT:TEXT0=""
	. SET TEXT1=$PIECE($GET(^INPARA(YM,F,NACH,N,1)),Y,1)
	. SET SCHLUE0="^INPARA(YM,"_F_","_VON_","_N_",1)"
	. SET SCHLUE1="^INPARA(YM,"_F_","_NACH_","_N_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ DISABLED BLOCK END
	
	QUIT:Q=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW004(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW004(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $FIND(F,"@net")!($FIND(F,"Demo"))!($FIND(F,"Time")) QUIT
	. if VON="DE" IF $FIND(F,"Demo") QUIT
	. IF YWWW=0 IF $FIND(F,"@net") QUIT  ;KEINE WWW´S   ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW0041(0,F,N,NACH,1))'=""
	. SET TEXT0=$PIECE(^WWW004(0,F,N,1),Y,1)
	. IF $GET(^WWW0041(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW0041(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW0041(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW004(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW0041(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW003(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW003(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $EXTRACT(F)="W"!($EXTRACT(F)="I")!($EXTRACT(F,1,3)="TER") QUIT
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW" QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. SET TEXT0=$PIECE(^WWW003(0,F,N,1),Y,2)
	. IF NEU=0 QUIT:$TRANSLATE($PIECE($GET(^WWW0031(0,F,N,NACH,1)),Y,1),"| ")'=""
	. IF $GET(^WWW0031(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW0031(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW0031(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW003(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW0031(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW002(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW002(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $EXTRACT(F)="W"!($EXTRACT(F)="I")!($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW" QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. SET TEXT0=$PIECE(^WWW002(0,F,N,1),Y,2)
	. IF NEU=0 QUIT:$GET(^WWW0021(0,F,N,NACH,1))'=""
	. IF $GET(^WWW0021(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW0021(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW0021(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW002(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW0021(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F=""
	FOR  SET F=$ORDER(^WWW001(0,F)) QUIT:F=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $EXTRACT(F)="W"!($EXTRACT(F)="I")!($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW" QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW0011(0,F,NACH,1))'=""
	. SET TEXT0=$PIECE(^WWW001(0,F,1),Y,1)
	. QUIT:TEXT0=""
	. IF $GET(^WWW0011(0,F,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW0011(0,F,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW0011(0,F,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW001(0,"_F_",1)"
	. SET SCHLUE1="^WWW0011(0,"_F_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F="" FOR  SET F=$ORDER(^WWW122(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW122(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $EXTRACT(F)="W"!($EXTRACT(F)="I")!($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW" QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. SET TEXT0=$PIECE(^WWW122(0,F,N,1),Y,12)
	. IF NEU=0 QUIT:$GET(^WWW1221(0,F,N,NACH,1))'=""
	. QUIT:$PIECE($GET(^WWW122(0,F,N,1)),Y,1)'=""   ;DATEN AUS DATEI VORHANDEN ;out of data file on hand 
	. QUIT:TEXT0=""
	. IF $GET(^WWW1221(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW1221(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW1221(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW122(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW1221(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F="" FOR  SET F=$ORDER(^WWWDRAGDROPD(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWWDRAGDROPD(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF $EXTRACT(F)="W"!($EXTRACT(F)="I")!($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW" QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. SET TEXT0=$PIECE(^WWWDRAGDROPD(0,F,N,1),Y,1)
	. IF NEU=0 QUIT:$GET(^WWW1221(0,F,N,NACH,1))'=""
	. ;QUIT:$PIECE($GET(^WWW122(0,F,N,1)),Y,1)'=""   ;DATEN AUS DATEI VORHANDEN
	. QUIT:TEXT0=""
	. IF $GET(^WWW1221(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW1221(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW1221(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWWDRAGDROPD(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW1221(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F=""
	FOR  SET F=$ORDER(^WWW1210(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW1210(0,F,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF ($EXTRACT(F)="W") || ($EXTRACT(F)="I") || ($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW"  QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW1211(0,F,N,NACH,1))'=""
	. SET TEXT0=$PIECE(^WWW1210(0,F,N,1),Y,1)
	. IF $GET(^WWW1211(0,F,N,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW1211(0,F,N,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW1211(0,F,N,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW1210(0,"_F_","_N_",1)"
	. SET SCHLUE1="^WWW1211(0,"_F_","_N_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F=""
	FOR  SET F=$ORDER(^WWW1203(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW1203(0,F,VON,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF ($EXTRACT(F)="W") || ($EXTRACT(F)="I") || ($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW"  QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW1203(0,F,NACH,N,1))'=""
	. SET TEXT0=$PIECE(^WWW1203(0,F,VON,N,1),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW1203(0,F,NACH,N,1)),Y,1)
	. SET SCHLUE0="^WWW1203(0,"_F_","_VON_","_N_",1)"
	. SET SCHLUE1="^WWW1203(0,"_F_","_NACH_","_N_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F=""
	FOR  SET F=$ORDER(^WWW124(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW124(0,F,VON,N)) QUIT:N=""  DO  QUIT:Q=1
	. IF NACH="DE" IF ($EXTRACT(F)="W") || ($EXTRACT(F)="I") || ($EXTRACT(F,1,3)="TER") QUIT 
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW"  QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$PIECE($GET(^WWW124(0,F,NACH,N,1)),Y,1)'=""
	. SET TEXT0=$PIECE(^WWW124(0,F,VON,N,1),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW124(0,F,NACH,N,1)),Y,1)
	. SET SCHLUE0="^WWW124(0,"_F_","_VON_","_N_",1)"
	. SET SCHLUE1="^WWW124(0,"_F_","_NACH_","_N_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET F=""
	FOR  SET F=$ORDER(^WWW120(0,F)) QUIT:F=""  DO  QUIT:Q=1
	. IF NACH="DE" IF ($EXTRACT(F)="W") || ($EXTRACT(F)="I") || ($EXTRACT(F,1,3)="TER") QUIT
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW"  QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. IF NEU=0 QUIT:$GET(^WWW1201(0,F,NACH,1))'=""
	. SET TEXT0=$PIECE(^WWW120(0,F,1),Y,1)
	. QUIT:TEXT0=""
	. IF $GET(^WWW1201(0,F,VON,1))'="" SET TEXT0=$PIECE($GET(^WWW1201(0,F,VON,1)),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW1201(0,F,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW120(0,"_F_",1)"
	. SET SCHLUE1="^WWW1201(0,"_F_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	SET YFF=","
	SET F=""
	FOR  SET F=$ORDER(^WWW101(0,F)) QUIT:F=""  DO
	. SET YFF(1)=""
	. SET N=""
	. FOR  SET N=$ORDER(^WWW101(0,F,VON,N)) QUIT:N=""  DO  QUIT:YFF(1)=1
	. . IF $PIECE($GET(^WWW101(0,F,NACH,N,1)),Y,3)=1 SET YFF=YFF_F_"," SET YFF(1)=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW101(0,F)) QUIT:F=""  IF $FIND(YFF,","_F_",") SET N="" FOR  SET N=$ORDER(^WWW101(0,F,VON,N)) QUIT:N=""  DO  QUIT:Q=1
	. QUIT:Q=1
	. IF NEU=0 QUIT:$DATA(^WWW101(0,F,NACH,N))
	. SET TEXT0=$PIECE(^WWW101(0,F,VON,N,1),Y,1)
	. SET TEXT1=$PIECE($GET(^WWW101(0,F,NACH,N,1)),Y,1)
	. SET SCHLUE0="^WWW101(0,"_F_","_VON_","_N_",1)"
	. SET SCHLUE1="^WWW101(0,"_F_","_NACH_","_N_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	
	SET F=""
	FOR  SET F=$ORDER(^WWW127(0,F)) QUIT:F=""  QUIT:Q=1  SET N="" FOR  SET N=$ORDER(^WWW127(0,F,N)) QUIT:N=""  QUIT:Q=1  SET O="" FOR  SET O=$ORDER(^WWW127(0,F,N,O)) QUIT:O=""  DO  QUIT:Q=1
	. IF NACH="DE" IF ($EXTRACT(F)="W") || ($EXTRACT(F)="I") || ($EXTRACT(F,1,3)="TER") QUIT
	. IF YWWW=1 IF $EXTRACT(F,1,3)'="WWW" QUIT  ;NUR WWW´S  ;only 
	. IF YWWW=0 IF $EXTRACT(F,1,3)="WWW"  QUIT  ;KEINE WWW´S  ;no 
	. QUIT:Q=1
	. SET TEXT0=$PIECE($GET(^WWW127(0,F,N,O,VON,1)),Y,1)
	. IF NEU=0 QUIT:$GET(^WWW127(0,F,N,O,NACH,1))'=""
	. QUIT:TEXT0=""
	. SET TEXT1=$PIECE($GET(^WWW127(0,F,N,O,NACH,1)),Y,1)
	. SET SCHLUE0="^WWW127(0,"_F_","_N_","_O_","_VON_",1)"
	. SET SCHLUE1="^WWW127(0,"_F_","_N_","_O_","_NACH_",1)"
	. DO UEBER
	. SET Q=1
	. DO TEXTERF
	
	QUIT:Q=1
	SET Q=2
	QUIT
	
UEBER ;UEBERSETZUNG
	new strTEXT0
	
	SET TEXT2=""
	QUIT:AUTOMATIC=9
	
	;QUIT:NACH'="EN"
	;QUIT:VON'="DE"
	IF $FIND(TEXT0,"_FREE")  SET TEXT2="_FREE"        QUIT
	IF $FIND(TEXT0,"_BLANK") SET TEXT2="_BLANK"       QUIT
	IF TEXT0="_FREE_SEARCH"  SET TEXT2="_FREE_SEARCH" QUIT
	
	;---------------------------------------
	
	set strTEXT0=$zconvert(TEXT0,"U")
	IF $LENGTH(TEXT0)<120 IF $TRANSLATE(TEXT0,$CHAR(10,13))'="" IF $DATA(^WWWDIC(0,VON,NACH,TEXT0,1)) SET TEXT2=^WWWDIC(0,VON,NACH,TEXT0,1) QUIT
	IF $LENGTH(TEXT0)<120 IF $TRANSLATE(TEXT0," ")'="" IF $DATA(^WWWDIC(0,VON,NACH,strTEXT0,1)) SET TEXT2=^WWWDIC(0,VON,NACH,strTEXT0,1) QUIT
	IF $LENGTH(TEXT0)<120 IF $TRANSLATE(TEXT0," ")'="" IF $DATA(^WWWDIC(0,VON,NACH,strTEXT0,1)) SET TEXT2=^WWWDIC(0,VON,NACH,strTEXT0,1) QUIT
	IF $LENGTH(TEXT0)<120 IF $TRANSLATE(TEXT0," ")'="" IF $DATA(^WWWDIC(0,VON,NACH,$TRANSLATE(TEXT0," "),1)) SET TEXT2=^WWWDIC(0,VON,NACH,$TRANSLATE(TEXT0," "),1) QUIT       ;BEC;28.06.04;$$TR geändert
	
	NEW I,strTEXTCR
	
	SET I(1)=TEXT0
	
	SET TEXT2=""
	FOR I=1:1 SET I(2)=$PIECE(I(1)," ",I) QUIT:I(2)=""  DO 
	. set strTEXTCR = $TRANSLATE(I(2),"|"_$CHAR(10,13))
	. IF $DATA(^WWWDIC(0,VON,NACH,strTEXTCR,1)) SET TEXT2=TEXT2_^WWWDIC(0,VON,NACH,strTEXTCR,1)_" " QUIT
	. IF $DATA(^WWWDIC(0,VON,NACH,$zconvert(strTEXTCR,"U"),1)) SET TEXT2=TEXT2_^WWWDIC(0,VON,NACH,$zconvert(strTEXTCR,"U"),1)_" " QUIT
	. SET TEXT2=TEXT2_I(2)_" "
	
	IF $FIND(TEXT2,I(1)) SET TEXT2=""
	QUIT
	
TEXTERF 
	;-------------------------------------------------------------------------------
	; ERFASSUNG ODER AUTOMATIC=9 ;logging Or 
	;
	; Params:
	;
	; Returns:
	;
	; History:
	; 26-Feb-2007	Steve S	SR15324: Get piece 1 of TEXT3 !!!
	; 19-Dec-2006	Steve S	SR15324: Use TEXT3 value for translation box
	; 07-Dec-2006	Steve S	SR14307: Make the SAVENOW() submit properly
	;-------------------------------------------------------------------------------
	IF AUTOMATIC=9 DO  QUIT   ;VOLL AUTOMATIK ;full 
	. NEW I,SCHLUE
	. QUIT:SCHLUE1=""
	. DO TRANSLATE
	. QUIT:$TRANSLATE(SCHLUE1," |_")=""
	. SET SCHLUE=""
	. FOR I=1:1 QUIT:$PIECE(SCHLUE1,",",I)=""  DO
	. . SET SCH=$PIECE(SCHLUE1,",",I)
	. . IF $PIECE(SCHLUE1,",",I+1)'="" IF I'=1 SET SCH=""""_SCH_""""
	. . SET SCHLUE=SCHLUE_SCH
	. . IF $PIECE(SCHLUE1,",",I+1)'="" SET SCHLUE=SCHLUE_","
	. ;
	. IF $EXTRACT(TEXT0,1,4)'="----" IF $LENGTH(TEXT0)>15 IF $TRANSLATE(TEXT1," |_")="" QUIT
	. IF $TRANSLATE(TEXT1," |_")="" SET TEXT1=TEXT0_" "
	. SET $PIECE(@SCHLUE,Y,1)=$TRANSLATE(TEXT1,"""'")  ;SET ^TEST1($H)=SCHLUE_"="_TEXT1
	
	;IF TEXT0="" SET Q=0 QUIT
	write SCHLUE0  ;wenn man sehen will wo man ist ;when they behold where they is 
	
	write YCR,"<INPUT NAME=""SCHLUE1"""
	write " TYPE=HIDDEN"
	write " VALUE="""_SCHLUE1_""""
	write ">"
	
	write YCR,"<INPUT NAME=""SCHLUE0"""
	write " TYPE=HIDDEN"
	write " VALUE="""_SCHLUE0_""""
	write ">"
 
	; SR14307
	write "<TR><TD></TD><TD>"_$$^WWWTEXT("WWW00046")_":</TD></TR>"
	write "<TR><TD></TD><TD>"_SCHLUE1_" = "_TEXT3_"</TD></TR>"
 
	set TEXT1 = $piece(TEXT3,Y,1) //SR15324
	//set TEXT1 = TEXT3 //SR15324
	
	;---------------------------------------
	write YCR,"<TR>"
	write "<TD NOWRAP>"
	write $PIECE($GET(^WWW100(0,"SPRACHE",SPRACHE,VON,1)),Y,1)
	write "<BR>"
	
	// FIXME JW: Should this if have a dot level ???
	
	IF $PIECE($GET(^WWW012(0,YM,1)),Y,97)="" 
	SET $PIECE(^WWW012(0,YM,1),Y,97)="http://www.systranlinks.com/systran/cgi?partner=systran-Abacho-de&ab_cmd=translate&lp="_$zconvert(VON,"L")_"_"_$zconvert(NACH,"L")_"&urltext="
	
	write "<A HREF="""_$PIECE($GET(^WWW012(0,YM,1)),Y,97)_$$^WWWUMLAU($TRANSLATE(TEXT0,"|?><'"," !"))
	write """"
	write " TARGET=TRANSLATE"
	write ">"
	write "<img SRC="""_YGIF_"language.gif"" "_YWIDTH_" "_YHEIGHT_" TITLE=translate BORDER=0"
	write ">"
	write "</A>"
	write "</TD>"
	
	write "<TD NOWRAP>"
	
	do
	. NEW YROW,YCOL
	. SET YROW=5,YCOL=60
	. write "<TEXTAREA NAME=""TEXT0"" ROWS="""_YROW_""" COLS="""_YCOL_""" WRAP=""PHYSICAL"""
	. write ">"
	. DO
	. . NEW I,YZWS
	. . FOR YI=1:1 SET YZWS=$PIECE(TEXT0,"|",YI) QUIT:$PIECE(TEXT0,"|",YI,99)=""  DO
	. . . write $TRANSLATE($$^WWWUML(YZWS),"><'?""",")(")_$CHAR(13)_$CHAR(10)
	. write "</TEXTAREA>"
	
	write "</TD></TR>",YCR
	
	
	IF $GET(TEXT1)="" IF $GET(TEXT2)'="" SET TEXT1=TEXT2
	IF TEXT1="" SET TEXT1=$GET(TEXT0)
	
	;S TEXT1=""
	;I AUTOMATIC=1 D TRANSLATE
	write "<TR>"
	write "<TD NOWRAP>"
	write YCR,$PIECE($GET(^WWW100(0,"SPRACHE",SPRACHE,NACH,1)),Y,1)
	write "<BR>"
	write "<INPUT TYPE=""IMAGE"""
	//SR14307: Need 'return false' for a manual form
	write " SRC="""_YGIF_"save.gif"" "_YWIDTH_" "_YHEIGHT_" TITLE=OK onclick=""SAVENOW(); return false;""" ;SR14305
	write ">"
	
	write "<BR>"
	write "<BR>"
	write "<INPUT TYPE=""button"" value=new onclick=""javescript:document.WWW.TEXT1.value=''"""
	write ">"
	
	WRITE YCR,"</TD>"
	WRITE "<TD NOWRAP>"
	SET TEXT1=$TRANSLATE(TEXT1,"|"," ")
	IF NACH="EN" IF '$FIND(SCHLUE0,"WWW127") DO
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1," ",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1," ",YII)=TEXT11
	. ;
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1,"-",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1,"-",YII)=TEXT11
	. ;
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1,"/",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1,"/",YII)=TEXT11
	
	DO
	. NEW CHAR
	. FOR  SET CHAR=$EXTRACT($REVERSE(TEXT1)) QUIT:CHAR=""  QUIT:'$FIND($CHAR(13,10)_" |",CHAR)  DO
	. .SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
 
	IF $EXTRACT($REVERSE(TEXT1))=$CHAR(13) SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=$CHAR(10) SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	FOR  QUIT:'$FIND(TEXT1,"  ")  SET TEXT1=$PIECE(TEXT1,"  ",1)_" "_$PIECE(TEXT1,"  ",2,999)
	DO
	. NEW YROW,YCOL
	. SET YROW=5,YCOL=60
	. WRITE "<TEXTAREA NAME=""TEXT1"" ROWS="""_YROW_""" COLS="""_YCOL_""" WRAP=""PHYSICAL"""
	. WRITE ">"
	. DO
	. . NEW I,YZWS
	. . FOR YI=1:1 SET YZWS=$PIECE(TEXT1,"|",YI) QUIT:$PIECE(TEXT1,"|",YI,99)=""  DO
	. . . WRITE $$^WWWUML(YZWS) IF $PIECE(TEXT1,"|",YI+1,99)'="" WRITE $CHAR(13)_$CHAR(10)
	. WRITE YCR,"</TEXTAREA>"
	
	WRITE "</TD></TR>",YCR
	;W "<TR>"
	;W "<TD NOWRAP>"
	;W YCR,$$^WWWTEXT(206)
	;W YCR,"</TD>"
	;W "<TD NOWRAP>"
	;vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv DISABLED BLOCK START
	;D
	. NEW YROW,YCOL
	. SET YROW=5,YCOL=60
	. WRITE "<TEXTAREA NAME=""TEXT2"" ROWS="""_YROW_""" COLS="""_YCOL_""" WRAP=""PHYSICAL"""
	. WRITE ">"
	. DO
	. . NEW I,YZWS
	. . FOR YI=1:1 SET YZWS=$PIECE(TEXT2,"|",YI) QUIT:$PIECE(TEXT2,"|",YI,99)=""  DO
	. . . WRITE $$^WWWUML(YZWS) IF $PIECE(TEXT2,"|",YI+1,99)'="" WRITE $CHAR(13)_$CHAR(10)
	. WRITE YCR,"</TEXTAREA>"
	;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ DISABLED BLOCK END
	
	;W YCR,"</TD>"
	;W YCR,"</TR>"
	SET Q=1
	QUIT
	
TRANSLATE ;ÜBERSETZTEN MIT AUTOMATIC ;by means of 
	NEW XTEXT1,URL,LINES,LINE,VOR,NACH,ENDE
	
	SET VOR="rows=10 wrap=VIRTUAL>"
	SET VOR="wrap=""virtual"" style=""width: 100%;"">"
	SET NACH="</textarea><br>"
	
	;SET URL=$PIECE($GET(^WWW012(0,YM,1)),Y,97)_$$^WWWUMLAU($TRANSLATE(TEXT0,"-<>|&§@+#~/?","         "))
	;SET URL=$PIECE($GET(^WWW012(0,YM,1)),Y,97)_TEXT0
	SET URL=$PIECE($GET(^WWW012(0,YM,1)),Y,97)_$TRANSLATE(TEXT0,"@|&"," ")
	
	KILL %html
	SET LINES=$$GET^WWWHTTP(URL,40)
	QUIT:+LINES=0
	
	;ZW %html
	IF $ORDER(%html(""))'="" SET TEXT1="" 
	SET LINE=""
	FOR  SET LINE=$ORDER(%html(LINE)) QUIT:LINE=""  DO  QUIT:TEXT1'=""  QUIT:LINE=""
	. IF $FIND(%html(LINE),VOR) DO
	. . SET TEXT1=$TRANSLATE($PIECE(%html(LINE),VOR,2),""".")
	. . IF $FIND(TEXT1,NACH) SET TEXT1=$PIECE(TEXT1,NACH,1) QUIT  ;KLEINER TEXT ;lesser Text 
	. . SET ENDE=0
	. . FOR  SET LINE=$ORDER(%html(LINE)) QUIT:LINE=""  DO  QUIT:ENDE=1
	. . . SET TEXT1=TEXT1_$PIECE(%html(LINE),NACH,1)
	. . . IF $FIND(%html(LINE),NACH) SET ENDE=1
 
	SET TEXT1=$TRANSLATE(TEXT1,"'""","´´")
	IF NACH'="FR" IF '$FIND(SCHLUE1,"WWW127") DO
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1," ",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1," ",YII)=TEXT11
	. ;
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1,"-",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1,"-",YII)=TEXT11
	. ;
	. FOR YII=1:1 SET TEXT11=$PIECE(TEXT1,"/",YII) QUIT:TEXT11=""  DO
	. . ;SET $EXTRACT(TEXT11)=$$^WWWUPER($EXTRACT(TEXT11))
	. . SET $EXTRACT(TEXT11)=$zconvert($EXTRACT(TEXT11),"U")
	. . SET $PIECE(TEXT1,"/",YII)=TEXT11
	
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	IF $EXTRACT($REVERSE(TEXT1))=" " SET TEXT1=$EXTRACT(TEXT1,1,$LENGTH(TEXT1)-1)
	
	IF AUTOMATIC=9 DO
	. IF TEXT1="" IF $GET(LASTKEY)=SCHLUE0 SET TEXT1=TEXT0  ;WENN NICHT GEFUNDEN DANN GLEICH EINGANG  ;when Not without delay portal 
	. SET LASTKEY=SCHLUE0
	
	IF $FIND(TEXT0,"_FREE") SET TEXT1=TEXT0
	IF $FIND(TEXT0,"_BLANK") SET TEXT1=TEXT0
	IF TEXT0="_FREE_SEARCH" SET TEXT1="_FREE_SEARCH"
	
	IF AUTOMATIC=9 WRITE !,SCHLUE0,!,TEXT0,!,TEXT1,!       ;test GGF für automatic übersetztung dann start mit Z.B.  d JOB^WWWLNG("EN","FR")
	QUIT
	
AUTOTRANS  ;AUTOSTART AUS FORM WWWTRANSLATE ;out of shape 
	IF VORG(1)'="" IF VORG(2)'="" DO
	. SET VORG1=VORG(1)
	. SET VORG2=VORG(2)
	. JOB JOB^WWWLNG(VORG1,VORG2)::1
	
	DO ^WWWINFO($$^WWWTEXT(32018))  ;GESTARTET
	QUIT 
	
JOB(VON,NACH) ;VOLL AUTOMATISCHE ÜBERSETZUNG ;full version 
	;STARTEN MIT:   D JOB^WWWLNG(VON,NACHSPRACHE)
	;DELETE VIA     D ^WWWLNG4(LANGUAGE)
	NEW (NACH,VON)
	DO ^WWWVORG
	
	SET NEU=0    ;NICHT NEU ;Not recent 
	;SET NEU=1   ;ALLES NEU ;table-mat whatsoever recent 
	
	;SET YWWW=2  ;MERKER=ALLES  ;table-mat 
	SET YWWW=0   ;MERKER FÜR: NICHT WWW ÜBERSETZEN ;Not WWW translate 
	
	;SET YWWW=1  ;MERKER FÜR: NUR WWW ÜBERSETZEN ;table-mat only WWW translate 
	SET VON=$GET(VON)
	IF VON=""        SET VON  = "DE"
	IF $GET(NACH)="" SET NACH = "EN"
	
	MERGE ^WWW100(0,"FARBE",NACH)      = ^WWW100(0,"FARBE",VON)
	MERGE ^WWW100(0,"FELDFORMAT",NACH) = ^WWW100(0,"FELDFORMAT",VON)
	MERGE ^WWW100(0,"SCHRIFTART",NACH) = ^WWW100(0,"SCHRIFTART",VON)
	MERGE ^WWW100(0,"STYLE",NACH)      = ^WWW100(0,"STYLE",VON)
	MERGE ^WWW100(0,"STRUKTUR",NACH)   = ^WWW100(0,"STRUKTUR",VON)
	IF VON="EN" MERGE ^WWW100(0,"WAEHRUNG",NACH) = ^WWW100(0,"WAEHRUNG",VON)
	MERGE ^WWW101(0,"FELDFORMAT",NACH) = ^WWW101(0,"FELDFORMAT",VON)
	
	IF YWWW=0 SET FORM="" FOR  SET FORM=$ORDER(^WWW101(0,FORM)) QUIT:FORM=""  DO
	. QUIT:$DATA(^WWW101(0,FORM,NACH))
	. MERGE ^WWW101(0,FORM,NACH)=^WWW101(0,FORM,VON)
	
	IF NACH'="DE" DO
	. NEW FORM,BUTT
	. SET FORM=""
	. FOR  SET FORM=$ORDER(^WWW124(0,FORM)) QUIT:FORM=""  DO
	. . SET BUTT=""
	. . FOR  SET BUTT=$ORDER(^WWW124(0,FORM,"DE",BUTT)) QUIT:BUTT=""  DO
	. . . IF '$DATA(^WWW124(0,FORM,NACH,BUTT,1)) SET ^WWW124(0,FORM,NACH,BUTT,1)=^WWW124(0,FORM,"DE",BUTT,1) SET $PIECE(^WWW124(0,FORM,NACH,BUTT,1),Y,1)=""  ;BUTTONTEXT LÖSCHEN ;Delete 
	. ;
	. SET YQ=1  ;=KEINE MELDUNG ;status signal 
	. SET VORG(1)="WWW124" DO ^WWWSORT
	
	SET AUTOMATIC=9
	
	new strVON,strNACH
	
	set strVON  = $zconvert(VON,"L")
	set strNACH = $zconvert(NACH,"L")
	
	FOR  DO  QUIT:Q=2 
	. ;SET $PIECE(^WWW012(0,YM,1),Y,97)="http://www.systranlinks.com/systran/cgi?partner=systran-Abacho-de&ab_cmd=translate&lp="_$$^WWWLOW(VON)_"_"_$$^WWWLOW(NACH)_"&urltext="
	. SET $PIECE(^WWW012(0,YM,1),Y,97)="http://www.systranlinks.com/systran/cgi?partner=systran-Abacho-de&ab_cmd=translate&lp="_strVON_"_"_strNACH_"&urltext="
	. ;SET $PIECE(^WWW012(0,YM,1),Y,97)="http://translator.abacho.de/translate.phtml?ab_cmd=translate&lp="_$$^WWWLOW(VON)_"_"_$$^WWWLOW(NACH)_"&urltext="
	. SET NEU=0 DO FRAGE
	 
	QUIT 
	
]]></Routine>
</Export>