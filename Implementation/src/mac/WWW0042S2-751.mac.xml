<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="WWW0042S2" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
WWW0042S2(YINHALT,YLFDAT) ;WWW0042S2;FAN;HAUPT MENU GECHECK DENN UNTER MENU CHEK ;24.07.2003;23961
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		HAUPT MENU GECHECK DENN UNTER MENU CHEK 
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;|
	;| FAN	24.07.2003
	;|
	;\------------------------------------------------------------------/
	;
	NEW YRETVAL,YAPP,YPROG,YYF,PROG,MITSPRACHE,YBPOS,YLFN
	SET YRETVAL=""
	IF $GET(YLFDAT)="" QUIT YRETVAL
	IF $GET(YFORM)="" QUIT YRETVAL
	SET ^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V",YLFDAT,1)=YINHALT
	SET VORG(5)=$G(^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V","VORG5",1))   ;MODUL ;module 
	SET VORG(3)=$G(^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V","VORG5",1))   ;BUTTON DRUCKEN ;print 
	SET YAPP=$PIECE(YLFDAT,"|",1)
	SET YPROG=$TRANSLATE($PIECE(YLFDAT,"|",2),"&",".")
	SET YYF=$P(YLFDAT,"|",3)
	IF $G(^WWWDATEN(YM,+$H,YUSER,"WWW0042S","V","VORG3",1))=1 IF YYF'="" DO BUTTON
	SET PROG=YPROG FOR  SET PROG=$ORDER(^WWW004(0,YAPP,PROG))  QUIT:'$FIND(PROG,YPROG)  DO
	. NEW YYF
	. SET YYF=$PIECE($GET(^WWW004(0,YAPP,PROG,1)),Y,2)
	. SET YNAME=YAPP_"|"_$TRANSLATE(PROG,".","&")_"|"_YYF
	. IF YINHALT=1 SET ^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V",YNAME,1)=YINHALT
	. IF YINHALT'=1 KILL ^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V",YNAME,1)
	. SET YNAME1=$$^WWWUMLAU(YNAME,3)    ;UMLAUTE GROSS UND SONDERZEICHEN LÖSCHEN ;And special character Delete 
	. IF YINHALT=1 SET YRETVAL=YRETVAL_"#"_YNAME1_"~"_"CHECKED"
	. IF YINHALT=0 SET YRETVAL=YRETVAL_"#"_YNAME1_"~"_"UNCHECKED"
	. ;IF ^WWWDATEN(YM,+$H,YUSER,"WWW0042S","V","VORG3",1)=1 IF YYF'="" DO BUTTON
	. QUIT
	QUIT YRETVAL
	
BUTTON
	NEW YA,UNTERFORM,YB
	SET MITSPRACHE=$$^WWWLANGU(YBED)
	SET YB="" FOR  SET YB=$ORDER(^WWW124(0,$$^WWWUMLAU(YYF,1),$$^WWWUMLAU(MITSPRACHE,1),YB)) QUIT:YB=""  DO               ;alle angelegten Button ;All Button 
	. SET YA=$GET(^WWW124(0,YYF,MITSPRACHE,YB,1))
	. ;
	. SET UNTERFORM=$PIECE(YA,Y,7)
	. Q:UNTERFORM=""
	. DO ACCESS^WWW0042S($PIECE(YA,Y,22),$PIECE(YA,Y,23))
	. QUIT:ACCESS'=1   ;KEIN ZUGANG ;no 
	. ;SET YRETVAL=YRETVAL_YYF ;table-mat 
	. SET YNAME=YAPP_"|"_$TRANSLATE(YPROG,".","&")_"|"_UNTERFORM
	. IF YINHALT=1 SET ^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V",YNAME,1)=YINHALT
	. IF YINHALT'=1 KILL ^WWWDATEN(YM,+$HOROLOG,YUSER,"WWW0042S","V",YNAME,1)
	. SET YNAME1=$$^WWWUMLAU(YNAME,3)    ;UMLAUTE GROSS UND SONDERZEICHEN LÖSCHEN ;And special character Delete 
	. IF YINHALT=1 SET YRETVAL=YRETVAL_"#"_YNAME1_"~"_"CHECKED"
	. IF YINHALT=0 SET YRETVAL=YRETVAL_"#"_YNAME1_"~"_"UNCHECKED"
	. QUIT
	QUIT
]]></Routine>
</Export>