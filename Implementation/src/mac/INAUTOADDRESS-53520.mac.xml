<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="22" zv="CACHE" ts="2001-01-01 00:00:00">
<Routine name="INAUTOADDRESS" type="MAC" languagemode="0" timestamp="58440,0"><![CDATA[
INAUTOADDRESS(PLZ)   ;INAUTOADDRESS;WEM;17.12.2003;ROUTINE ZUM AUTOMATISCHEN FÜLLEN VON ORT, BUNDESLAND UND LAND AUS PLZ
	;
	;/------------------------------------------------------------------\
	;| Description of Function :
	;|		17.12.2003
	;|
	;| Inputs : 
	;|
	;|
	;| ByRef :
	;|
	;|
	;| Returns :
	;|
	;|
	;| History :
	;|
	;| WEM	ROUTINE ZUM AUTOMATISCHEN FÜLLEN VON ORT, BUNDESLAND UND LAND AUS PLZ
	;|
	;\------------------------------------------------------------------/
	;
	; DO ^INAUTOADDRESS(PLZ)
	NEW SATZ
	SET PLZ=$GET(PLZ)
	QUIT:PLZ=""
	IF $DATA(^INPLZ(0,PLZ)) DO
	. SET SATZ=""
	. ;
	. SET SATZ=$GET(^INPLZ(0,PLZ,1))
	. QUIT:$TRANSLATE(SATZ,Y)=""
	. IF YFORM="INPARTN" SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D53~"_$PIECE(SATZ,Y,1) QUIT   ;FAN;26689;04.11.2004
	. IF YFORM="WWW0121C" SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D8~"_$PIECE(SATZ,Y,1)_"#"_"Y"_YFORM_"D10~"_$PIECE(SATZ,Y,14) QUIT   ;WEM;24824;13.01.2004;FÜLLEN DER FELDER AUCH IN ANDEREN FORMULAREN ERMÖGLICHEN
	. IF YFORM="INAUSK" SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D6~"_$PIECE(SATZ,Y,1) QUIT   ;WEM;24824;13.01.2004;FÜLLEN DER FELDER AUCH IN ANDEREN FORMULAREN ERMÖGLICHEN
	. IF YFORM="INVERBAND" SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D16~"_$PIECE(SATZ,Y,1)_"#"_"Y"_YFORM_"D17~"_$PIECE(SATZ,Y,17) QUIT   ;WEM;24824;13.01.2004;FÜLLEN DER FELDER AUCH IN ANDEREN FORMULAREN ERMÖGLICHEN
	. IF YFORM="WWW013" SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D28~"_$PIECE(SATZ,Y,1) QUIT   ;WEM;24824;13.01.2004;FÜLLEN DER FELDER AUCH IN ANDEREN FORMULAREN ERMÖGLICHEN
	. SET %TXT(1)=%TXT(1)_"#"_"Y"_YFORM_"D16~"_$PIECE(SATZ,Y,1)_"#"_"Y"_YFORM_"D14~"_$PIECE(SATZ,Y,14)_"#"_"Y"_YFORM_"D17~"_$PIECE(SATZ,Y,17)
	. ;SPEICHE VORGESCHLAGT LAND, IN ^WWWSELSTATE PRÜFT,WENN LAND NICHT GEÄNDERT, ÄNDERT BUNDESLAND AUCH NICHT;FAN;09.03.04;25150
	. IF YFORM="INKUNDE"!(YFORM="INLIEF")!(YFORM="INWERBADR") I $G(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,YART,2))="" SET $PIECE(^WWWDATEN(YM,+$HOROLOG,YUSER,YFORM,YART,2),Y,17)=$PIECE(SATZ,Y,17)      
	. QUIT
	QUIT
]]></Routine>
</Export>